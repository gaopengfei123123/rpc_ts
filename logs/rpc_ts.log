2018/03/29 10:25:51.113 [D] already send msg, key: ts_queue_47
2018/03/29 10:27:37.469 [D] already send msg, key: ts_queue_48
2018/03/29 10:27:49.357 [D] already send msg, key: ts_queue_49
2018/03/29 10:31:07.998 [D] mq reader is starting
2018/03/29 10:31:14.296 [D] already send msg, key: ts_queue_50
2018/03/29 10:31:17.018 [I] message at offset 244: ts_queue_50 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":50}

2018/03/29 10:31:17.019 [I] 任务ID: 50 执行 try
2018/03/29 10:31:17.023 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"nothing wrong","data":"{\"message\": \"try\"}"}
2018/03/29 10:31:17.023 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"nothing wrong","data":"{\"message\": \"try\"}"}
2018/03/29 10:31:17.024 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 10:31:17.024 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 10:31:17.024 [D] try 操作成功, ID: 50 1
2018/03/29 10:31:17.024 [D] 持久化状态,ID: 50
2018/03/29 10:31:17.036 [D] 更新数据库信息,ID: 50
2018/03/29 10:31:17.036 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 10:31:17.036 [D] post 请求返回内容: {"message":"confirm","Type":"confirm api"}
2018/03/29 10:31:17.036 [I] http://localhost:8899/api/test :  delay: 0 ms 0 
2018/03/29 10:31:17.036 [D] post 请求返回内容: {"message":"confirm","Type":"confirm api"}
2018/03/29 10:31:17.036 [I] http://localhost:8899/api/test :  delay: 0 ms 0 
2018/03/29 10:31:17.036 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 50 1 }
2018/03/29 10:31:17.036 [E] 执行中断操作操作
2018/03/29 11:17:56.279 [D] mq reader is starting
2018/03/29 11:18:33.286 [D] mq reader is starting
2018/03/29 11:18:41.171 [D] already send msg, key: ts_queue_51
2018/03/29 11:18:42.302 [I] message at offset 245: ts_queue_51 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":51}

2018/03/29 11:18:42.302 [I] 任务ID: 51 执行 try
2018/03/29 11:18:42.306 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"nothing wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:18:42.306 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 11:18:42.306 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"nothing wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:18:42.306 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 11:18:42.306 [D] try 操作成功, ID: 51 1
2018/03/29 11:18:42.306 [D] 持久化状态,ID: 51
2018/03/29 11:18:42.310 [D] 更新数据库信息,ID: 51
2018/03/29 11:18:42.310 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 11:18:42.310 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:18:42.310 [I] http://localhost:8899/api/test :  delay: 0 ms 401 {"message": "try"}
2018/03/29 11:18:42.310 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:18:42.311 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:18:42.311 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 51 1 }
2018/03/29 11:18:42.311 [E] 执行中断操作操作
2018/03/29 11:19:02.623 [D] already send msg, key: ts_queue_52
2018/03/29 11:19:09.604 [I] message at offset 246: ts_queue_52 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":52}

2018/03/29 11:19:09.604 [I] 任务ID: 52 执行 try
2018/03/29 11:19:09.605 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"nothing wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:19:09.605 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:19:09.605 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"nothing wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:19:09.605 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:19:09.605 [D] try 操作成功, ID: 52 1
2018/03/29 11:19:09.605 [D] 持久化状态,ID: 52
2018/03/29 11:19:09.609 [D] 更新数据库信息,ID: 52
2018/03/29 11:19:09.609 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 11:19:09.609 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:19:09.609 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:19:09.609 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:19:09.609 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:19:09.610 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 52 1 }
2018/03/29 11:19:09.610 [E] 准备完成动作
2018/03/29 11:19:09.610 [D] 当前准备执行的任务索引: [0 1]
2018/03/29 11:22:25.016 [D] mq reader is starting
2018/03/29 11:22:32.135 [D] already send msg, key: ts_queue_53
2018/03/29 11:22:34.029 [I] message at offset 247: ts_queue_53 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":53}

2018/03/29 11:22:34.029 [I] 任务ID: 53 执行 try
2018/03/29 11:22:34.032 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:22:34.032 [I] http://localhost:8899/api/test :  delay: 2 ms 401 {"message": "try"}
2018/03/29 11:22:34.032 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:22:34.032 [I] http://localhost:8899/api/test :  delay: 2 ms 401 {"message": "try"}
2018/03/29 11:22:34.032 [I] 准备开始取消 &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   }] 1 0 53 0 }
2018/03/29 11:22:34.035 [D] 插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":53,"step":0,"error_msg":""} 1522293754 [{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":0,"error_code":401},{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":1,"error_code":401}] 53
2018/03/29 11:22:34.035 [D] 此处应该向某处发送错误通知
2018/03/29 11:23:25.012 [D] already send msg, key: ts_queue_54
2018/03/29 11:23:28.627 [I] message at offset 248: ts_queue_54 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":54}

2018/03/29 11:23:28.627 [I] 任务ID: 54 执行 try
2018/03/29 11:23:28.628 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:23:28.628 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:23:28.628 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:23:28.628 [I] http://localhost:8899/api/test :  delay: 1 ms 401 {"message": "try"}
2018/03/29 11:23:28.629 [I] 准备开始取消 &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   }] 1 0 54 0 }
2018/03/29 11:23:28.633 [D] 插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":54,"step":0,"error_msg":""} 1522293808 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"","Index":0,"error_code":0},{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":1,"error_code":401}] 54
2018/03/29 11:23:28.633 [D] 此处应该向某处发送错误通知
2018/03/29 11:24:56.704 [D] mq reader is starting
2018/03/29 11:24:59.231 [D] already send msg, key: ts_queue_55
2018/03/29 11:25:05.716 [I] message at offset 247: ts_queue_53 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":53}

2018/03/29 11:25:05.716 [I] 任务ID: 53 执行 try
2018/03/29 11:25:05.720 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:25:05.720 [I] http://localhost:8899/api/test :  delay: 3 ms 401 {"message": "try"}
2018/03/29 11:25:05.720 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:25:05.720 [I] http://localhost:8899/api/test :  delay: 3 ms 401 {"message": "try"}
2018/03/29 11:25:05.720 [E] 准备开始取消 &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   }] 1 0 53 0 }
2018/03/29 11:25:05.724 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":53,"step":0,"error_msg":""} 1522293905 [{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":1,"error_code":401},{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":0,"error_code":401}] 53
2018/03/29 11:25:05.724 [D] 此处应该向某处发送错误通知
2018/03/29 11:25:05.724 [I] message at offset 248: ts_queue_54 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":54}

2018/03/29 11:25:05.724 [I] 任务ID: 54 执行 try
2018/03/29 11:25:05.725 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:25:05.725 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:25:05.725 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:25:05.725 [I] http://localhost:8899/api/test :  delay: 0 ms 401 {"message": "try"}
2018/03/29 11:25:05.725 [E] 准备开始取消 &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   }] 1 0 54 0 }
2018/03/29 11:25:05.727 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":54,"step":0,"error_msg":""} 1522293905 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"","Index":1,"error_code":0},{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":0,"error_code":401}] 54
2018/03/29 11:25:05.727 [D] 此处应该向某处发送错误通知
2018/03/29 11:25:05.727 [I] message at offset 249: ts_queue_55 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":55}

2018/03/29 11:25:05.727 [I] 任务ID: 55 执行 try
2018/03/29 11:25:05.727 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:25:05.727 [I] http://localhost:8899/api/test :  delay: 0 ms 401 {"message": "try"}
2018/03/29 11:25:05.727 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:25:05.727 [I] http://localhost:8899/api/test :  delay: 0 ms 401 {"message": "try"}
2018/03/29 11:25:05.727 [E] 准备开始取消 &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   }] 1 0 55 0 }
2018/03/29 11:25:05.729 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":55,"step":0,"error_msg":""} 1522293905 [{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":0,"error_code":401},{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":1,"error_code":401}] 55
2018/03/29 11:25:05.729 [D] 此处应该向某处发送错误通知
2018/03/29 11:25:43.938 [D] mq reader is starting
2018/03/29 11:25:52.968 [I] message at offset 247: ts_queue_53 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":53}

2018/03/29 11:25:52.969 [I] 任务ID: 53 执行 try
2018/03/29 11:25:52.973 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:25:52.973 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:25:52.973 [I] http://localhost:8899/api/test :  delay: 3 ms 401 {"message": "try"}
2018/03/29 11:25:52.973 [I] http://localhost:8899/api/test :  delay: 4 ms 401 {"message": "try"}
2018/03/29 11:25:52.974 [E] 准备开始取消
2018/03/29 11:25:52.978 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":53,"step":0,"error_msg":""} 1522293952 [{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":0,"error_code":401},{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":1,"error_code":401}] 53
2018/03/29 11:25:52.978 [D] 此处应该向某处发送错误通知
2018/03/29 11:25:52.978 [I] message at offset 248: ts_queue_54 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":54}

2018/03/29 11:25:52.978 [I] 任务ID: 54 执行 try
2018/03/29 11:25:52.979 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:25:52.979 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:25:52.979 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:25:52.979 [I] http://localhost:8899/api/test :  delay: 1 ms 401 {"message": "try"}
2018/03/29 11:25:52.979 [E] 准备开始取消
2018/03/29 11:25:52.982 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":54,"step":0,"error_msg":""} 1522293952 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"","Index":0,"error_code":0},{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":1,"error_code":401}] 54
2018/03/29 11:25:52.982 [D] 此处应该向某处发送错误通知
2018/03/29 11:25:52.982 [I] message at offset 249: ts_queue_55 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":55}

2018/03/29 11:25:52.982 [I] 任务ID: 55 执行 try
2018/03/29 11:25:52.983 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:25:52.983 [I] http://localhost:8899/api/test :  delay: 0 ms 401 {"message": "try"}
2018/03/29 11:25:52.983 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:25:52.983 [I] http://localhost:8899/api/test :  delay: 0 ms 401 {"message": "try"}
2018/03/29 11:25:52.983 [E] 准备开始取消
2018/03/29 11:25:52.985 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":55,"step":0,"error_msg":""} 1522293952 [{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":1,"error_code":401},{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":0,"error_code":401}] 55
2018/03/29 11:25:52.985 [D] 此处应该向某处发送错误通知
2018/03/29 11:27:45.643 [D] mq reader is starting
2018/03/29 11:27:48.273 [D] already send msg, key: ts_queue_56
2018/03/29 11:27:54.652 [I] message at offset 250: ts_queue_56 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":56}

2018/03/29 11:27:54.652 [I] 任务ID: 56 执行 try
2018/03/29 11:27:54.656 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:27:54.656 [I] http://localhost:8899/api/test :  delay: 4 ms 401 {"message": "try"}
2018/03/29 11:27:54.657 [E] try 返回的包体 {401 {"message": "try"} something was wrong  1 401}
2018/03/29 11:27:54.657 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:27:54.657 [I] http://localhost:8899/api/test :  delay: 4 ms 401 {"message": "try"}
2018/03/29 11:27:54.657 [E] try 返回的包体 {401 {"message": "try"} something was wrong  0 401}
2018/03/29 11:27:54.657 [E] 准备开始取消
2018/03/29 11:27:54.664 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":56,"step":0,"error_msg":""} 1522294074 [{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":1,"error_code":401},{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"","Index":0,"error_code":401}] 56
2018/03/29 11:27:54.664 [D] 此处应该向某处发送错误通知
2018/03/29 11:30:19.506 [D] mq reader is starting
2018/03/29 11:30:22.562 [D] already send msg, key: ts_queue_57
2018/03/29 11:30:28.516 [I] message at offset 250: ts_queue_56 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":56}

2018/03/29 11:30:28.517 [I] 任务ID: 56 执行 try
2018/03/29 11:30:28.522 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:30:28.522 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:30:28.522 [I] http://localhost:8899/api/test :  delay: 4 ms 401 {"message": "try"}
2018/03/29 11:30:28.522 [I] http://localhost:8899/api/test :  delay: 5 ms 401 {"message": "try"}
2018/03/29 11:30:28.522 [E] try 返回的包体 {401 {"message": "try"} something was wrong http://localhost:8899/api/test/try 0 401}
2018/03/29 11:30:28.522 [E] try 返回的包体 {401 {"message": "try"} something was wrong http://localhost:8899/api/test/try 1 401}
2018/03/29 11:30:28.522 [E] 准备开始取消
2018/03/29 11:30:28.525 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":56,"step":0,"error_msg":""} 1522294228 [{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"http://localhost:8899/api/test/try","Index":0,"error_code":401},{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"http://localhost:8899/api/test/try","Index":1,"error_code":401}] 56
2018/03/29 11:30:28.525 [D] 此处应该向某处发送错误通知
2018/03/29 11:30:28.525 [I] message at offset 251: ts_queue_57 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":57}

2018/03/29 11:30:28.525 [I] 任务ID: 57 执行 try
2018/03/29 11:30:28.526 [D] post 请求返回内容: {"message":"try","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:30:28.526 [I] http://localhost:8899/api/test :  delay: 0 ms 401 {"message": "try"}
2018/03/29 11:30:28.526 [E] try 返回的包体 {401 {"message": "try"} something was wrong http://localhost:8899/api/test/try 1 401}
2018/03/29 11:30:28.526 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:30:28.526 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:30:28.526 [E] try 返回的包体 {200 {"message": "try"}  http://localhost:8899/api/test/try 0 0}
2018/03/29 11:30:28.526 [E] 准备开始取消
2018/03/29 11:30:28.528 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":57,"step":0,"error_msg":""} 1522294228 [{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"http://localhost:8899/api/test/try","Index":1,"error_code":401},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":0,"error_code":0}] 57
2018/03/29 11:30:28.528 [D] 此处应该向某处发送错误通知
2018/03/29 11:31:01.126 [D] mq reader is starting
2018/03/29 11:31:53.953 [D] mq reader is starting
2018/03/29 11:32:04.092 [D] already send msg, key: ts_queue_58
2018/03/29 11:32:12.068 [I] message at offset 252: ts_queue_58 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":58}

2018/03/29 11:32:12.068 [I] 任务ID: 58 执行 try
2018/03/29 11:32:12.072 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:32:12.072 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 11:32:12.072 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:32:12.072 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 11:32:12.072 [D] try 操作成功, ID: 58 1
2018/03/29 11:32:12.072 [D] 持久化状态,ID: 58
2018/03/29 11:32:12.075 [D] 更新数据库信息,ID: 58
2018/03/29 11:32:12.075 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 11:32:12.075 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:32:12.076 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:32:12.076 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 11:32:12.076 [I] http://localhost:8899/api/test :  delay: 0 ms 401 {"message": "try"}
2018/03/29 11:32:12.076 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 58 1 }
2018/03/29 11:32:12.076 [E] 执行中断操作操作
2018/03/29 11:38:33.722 [D] mq reader is starting
2018/03/29 11:38:40.427 [D] already send msg, key: ts_queue_59
2018/03/29 11:38:42.736 [I] message at offset 253: ts_queue_59 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":59}

2018/03/29 11:38:42.737 [I] 任务ID: 59 执行 try
2018/03/29 11:38:42.740 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:38:42.740 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 11:38:42.740 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:38:42.740 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 11:38:42.740 [D] try 操作成功, ID: 59 1
2018/03/29 11:38:42.740 [D] 持久化状态,ID: 59
2018/03/29 11:38:42.744 [D] 更新数据库信息,ID: 59
2018/03/29 11:38:42.744 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 11:38:42.745 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:38:42.745 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:38:42.745 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:38:42.745 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:38:42.745 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 59 1 }
2018/03/29 11:38:42.745 [E] 准备完成动作
2018/03/29 11:38:42.745 [D] 当前准备执行的任务索引: [0 1]
2018/03/29 11:40:26.486 [D] mq reader is starting
2018/03/29 11:40:35.498 [I] message at offset 253: ts_queue_59 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":59}

2018/03/29 11:40:35.498 [I] 任务ID: 59 执行 try
2018/03/29 11:40:35.500 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:40:35.500 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:40:35.500 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 11:40:35.500 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 11:40:35.500 [D] try 操作成功, ID: 59 1
2018/03/29 11:40:35.500 [D] 持久化状态,ID: 59
2018/03/29 11:40:35.504 [D] 更新数据库信息,ID: 59
2018/03/29 11:40:35.504 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 11:40:35.504 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:40:35.504 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:40:35.504 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:40:35.504 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:40:35.505 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 59 1 }
2018/03/29 11:40:35.505 [E] 准备完成动作
2018/03/29 11:40:35.505 [D] 当前准备执行的任务索引: [0 1]
2018/03/29 11:44:46.489 [D] already send msg, key: ts_queue_60
2018/03/29 11:44:50.176 [I] message at offset 254: ts_queue_60 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":60}

2018/03/29 11:44:50.177 [I] 任务ID: 60 执行 try
2018/03/29 11:44:50.180 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:44:50.180 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 11:44:50.180 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:44:50.180 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 11:44:50.180 [D] try 操作成功, ID: 60 1
2018/03/29 11:44:50.180 [D] 持久化状态,ID: 60
2018/03/29 11:44:50.193 [D] 更新数据库信息,ID: 60
2018/03/29 11:44:50.193 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 11:44:50.193 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:44:50.193 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:44:50.193 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:44:50.193 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:44:50.193 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 60 1 }
2018/03/29 11:44:50.193 [E] 准备完成动作
2018/03/29 11:44:50.193 [D] 当前准备执行的任务索引: [0 1]
2018/03/29 11:45:06.067 [D] mq reader is starting
2018/03/29 11:45:12.296 [D] already send msg, key: ts_queue_61
2018/03/29 11:45:15.078 [I] message at offset 254: ts_queue_60 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":60}

2018/03/29 11:45:15.078 [I] 任务ID: 60 执行 try
2018/03/29 11:45:15.082 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:45:15.082 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:45:15.082 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 11:45:15.082 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 11:45:15.082 [D] try 操作成功, ID: 60 1
2018/03/29 11:45:15.082 [D] 持久化状态,ID: 60
2018/03/29 11:45:15.087 [D] 更新数据库信息,ID: 60
2018/03/29 11:45:15.087 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 11:45:15.087 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:45:15.087 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:45:15.087 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:45:15.087 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:45:15.087 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 60 1 }
2018/03/29 11:45:15.087 [E] 准备完成动作
2018/03/29 11:45:15.087 [D] 当前准备执行的任务索引: [0 1]
2018/03/29 11:45:15.087 [I] message at offset 255: ts_queue_61 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":61}

2018/03/29 11:45:15.087 [I] 任务ID: 61 执行 try
2018/03/29 11:45:15.088 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:45:15.088 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:45:15.088 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:45:15.088 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:45:15.088 [D] try 操作成功, ID: 61 1
2018/03/29 11:45:15.088 [D] 持久化状态,ID: 61
2018/03/29 11:45:15.090 [D] 更新数据库信息,ID: 61
2018/03/29 11:45:15.090 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 11:45:15.090 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:45:15.090 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:45:15.090 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:45:15.090 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:45:15.090 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 61 1 }
2018/03/29 11:45:15.090 [E] 准备完成动作
2018/03/29 11:45:15.090 [D] 当前准备执行的任务索引: [0 1]
2018/03/29 11:56:03.539 [D] mq reader is starting
2018/03/29 11:56:07.363 [D] already send msg, key: ts_queue_62
2018/03/29 11:56:12.554 [I] message at offset 256: ts_queue_62 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":62}

2018/03/29 11:56:12.555 [I] 任务ID: 62 执行 try
2018/03/29 11:56:12.560 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:56:12.560 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:56:12.560 [I] http://localhost:8899/api/test :  delay: 5 ms 200 {"message": "try"}
2018/03/29 11:56:12.560 [I] http://localhost:8899/api/test :  delay: 5 ms 200 {"message": "try"}
2018/03/29 11:56:12.560 [D] try 操作成功, ID: 62 1
2018/03/29 11:56:12.560 [D] 持久化状态,ID: 62
2018/03/29 11:56:12.565 [D] 更新数据库信息,ID: 62
2018/03/29 11:56:12.565 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 11:56:12.565 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:56:12.565 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:56:12.565 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:56:12.565 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:56:12.565 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 62 1 }
2018/03/29 11:56:12.566 [I] 准备完成动作
2018/03/29 11:58:18.783 [D] mq reader is starting
2018/03/29 11:58:22.032 [D] already send msg, key: ts_queue_63
2018/03/29 11:58:27.795 [I] message at offset 256: ts_queue_62 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":62}

2018/03/29 11:58:27.795 [I] 任务ID: 62 执行 try
2018/03/29 11:58:27.798 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:58:27.798 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:58:27.798 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 11:58:27.799 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 11:58:27.799 [D] try 操作成功, ID: 62 1
2018/03/29 11:58:27.799 [D] 持久化状态,ID: 62
2018/03/29 11:58:27.802 [D] 更新数据库信息,ID: 62
2018/03/29 11:58:27.802 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 11:58:27.802 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:58:27.802 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:58:27.802 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:58:27.802 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:58:27.802 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 62 1 }
2018/03/29 11:58:27.802 [I] 准备完成动作
2018/03/29 11:58:27.804 [D] 执行成功的操作完成
2018/03/29 11:58:27.804 [D] 当前准备执行的任务索引: [0 1]
2018/03/29 11:58:27.804 [I] message at offset 257: ts_queue_63 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":63}

2018/03/29 11:58:27.804 [I] 任务ID: 63 执行 try
2018/03/29 11:58:27.805 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:58:27.805 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:58:27.805 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:58:27.805 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:58:27.805 [D] try 操作成功, ID: 63 1
2018/03/29 11:58:27.805 [D] 持久化状态,ID: 63
2018/03/29 11:58:27.806 [D] 更新数据库信息,ID: 63
2018/03/29 11:58:27.806 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 11:58:27.807 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:58:27.807 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:58:27.807 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:58:27.807 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:58:27.807 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 63 1 }
2018/03/29 11:58:27.807 [I] 准备完成动作
2018/03/29 11:58:27.809 [D] 执行成功的操作完成
2018/03/29 11:58:27.809 [D] 当前准备执行的任务索引: [0 1]
2018/03/29 11:58:44.081 [D] already send msg, key: ts_queue_64
2018/03/29 11:58:45.994 [I] message at offset 258: ts_queue_64 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":64}

2018/03/29 11:58:45.994 [I] 任务ID: 64 执行 try
2018/03/29 11:58:45.995 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:58:45.995 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:58:45.995 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:58:45.995 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:58:45.995 [D] try 操作成功, ID: 64 1
2018/03/29 11:58:45.995 [D] 持久化状态,ID: 64
2018/03/29 11:58:46.000 [D] 更新数据库信息,ID: 64
2018/03/29 11:58:46.000 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 11:58:46.001 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:58:46.002 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/29 11:58:46.002 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 11:58:46.002 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 11:58:46.002 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 64 1 }
2018/03/29 11:58:46.002 [I] 准备完成动作
2018/03/29 11:58:46.006 [D] 执行成功的操作完成
2018/03/29 11:58:46.006 [D] 当前准备执行的任务索引: [0 1]
2018/03/29 13:56:04.185 [D] mq reader is starting
2018/03/29 14:02:05.009 [D] mq reader is starting
2018/03/29 14:05:47.359 [D] already send msg, key: ts_queue_65
2018/03/29 14:05:52.380 [I] message at offset 259: ts_queue_65 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{'message': 'cancel'}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":65}

2018/03/29 14:05:52.380 [I] 任务ID: 65 执行 try
2018/03/29 14:05:52.384 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:05:52.384 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:05:52.384 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 14:05:52.384 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 14:05:52.384 [D] try 操作成功, ID: 65 1
2018/03/29 14:05:52.384 [D] 持久化状态,ID: 65
2018/03/29 14:05:52.389 [D] 更新数据库信息,ID: 65
2018/03/29 14:05:52.389 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:05:52.389 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:05:52.389 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:05:52.389 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:05:52.389 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:05:52.389 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {'message': 'cancel'} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 65 1 }
2018/03/29 14:05:52.389 [E] 执行中断操作操作
2018/03/29 14:14:41.721 [D] mq reader is starting
2018/03/29 14:14:45.817 [D] already send msg, key: ts_queue_66
2018/03/29 14:14:50.735 [I] message at offset 260: ts_queue_66 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{'message': 'cancel'}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":66}

2018/03/29 14:14:50.735 [I] 任务ID: 66 执行 try
2018/03/29 14:14:50.737 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:14:50.737 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:14:50.738 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 14:14:50.738 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 14:14:50.738 [D] try 操作成功, ID: 66 1
2018/03/29 14:14:50.738 [D] 持久化状态,ID: 66
2018/03/29 14:14:50.741 [D] 更新数据库信息,ID: 66
2018/03/29 14:14:50.741 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:14:50.742 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:14:50.742 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:14:50.742 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:14:50.742 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:14:50.742 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {'message': 'cancel'} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 66 1 }
2018/03/29 14:14:50.742 [E] 执行中断操作操作
2018/03/29 14:14:50.742 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{'message': 'cancel'}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":66,"step":1,"error_msg":""}
2018/03/29 14:25:07.384 [D] mq reader is starting
2018/03/29 14:25:10.026 [D] already send msg, key: ts_queue_67
2018/03/29 14:25:16.394 [I] message at offset 261: ts_queue_67 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{'message': 'cancel'}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":67}

2018/03/29 14:25:16.395 [I] 任务ID: 67 执行 try
2018/03/29 14:25:16.397 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:25:16.397 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:25:16.397 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/29 14:25:16.397 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 14:25:16.397 [D] try 操作成功, ID: 67 1
2018/03/29 14:25:16.397 [D] 持久化状态,ID: 67
2018/03/29 14:25:16.399 [D] 更新数据库信息,ID: 67
2018/03/29 14:25:16.399 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:25:16.399 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:25:16.399 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:25:16.399 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:25:16.399 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:25:16.399 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {'message': 'cancel'} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 67 1 }
2018/03/29 14:25:16.399 [E] 执行中断操作操作
2018/03/29 14:25:16.400 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{'message': 'cancel'}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":67,"step":1,"error_msg":""}
2018/03/29 14:25:16.400 [D] post 请求返回内容: {"error_code":401,"error_message":"get nothing"}
2018/03/29 14:25:16.400 [I] http://localhost:8899/api/test :  delay: 0 ms 400 {"error_code":401,"error_message":"get nothing"}
2018/03/29 14:25:16.400 [D] 打印获取当前的返回状态 {"code":400,"data":"{\"error_code\":401,\"error_message\":\"get nothing\"}","error_message":"request error","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":400}
2018/03/29 14:27:03.456 [D] mq reader is starting
2018/03/29 14:27:05.948 [D] already send msg, key: ts_queue_68
2018/03/29 14:27:12.479 [I] message at offset 262: ts_queue_68 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":68}

2018/03/29 14:27:12.480 [I] 任务ID: 68 执行 try
2018/03/29 14:27:12.484 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:27:12.484 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:27:12.484 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 14:27:12.484 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 14:27:12.484 [D] try 操作成功, ID: 68 1
2018/03/29 14:27:12.484 [D] 持久化状态,ID: 68
2018/03/29 14:27:12.488 [D] 更新数据库信息,ID: 68
2018/03/29 14:27:12.488 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:27:12.489 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:27:12.489 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:27:12.489 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:27:12.490 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/29 14:27:12.490 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 68 1 }
2018/03/29 14:27:12.490 [E] 执行中断操作操作
2018/03/29 14:27:12.490 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":68,"step":1,"error_msg":""}
2018/03/29 14:27:12.490 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:27:12.490 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:27:12.491 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 14:29:01.507 [D] already send msg, key: ts_queue_69
2018/03/29 14:29:59.000 [D] mq reader is starting
2018/03/29 14:30:01.902 [D] already send msg, key: ts_queue_70
2018/03/29 14:30:08.016 [I] message at offset 262: ts_queue_68 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":68}

2018/03/29 14:30:08.017 [I] 任务ID: 68 执行 try
2018/03/29 14:30:08.019 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:30:08.019 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 14:30:08.019 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:30:08.019 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 14:30:08.019 [D] try 操作成功, ID: 68 1
2018/03/29 14:30:08.019 [D] 持久化状态,ID: 68
2018/03/29 14:30:08.022 [D] 更新数据库信息,ID: 68
2018/03/29 14:30:08.023 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:30:08.023 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:30:08.023 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:30:08.023 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:30:08.023 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:30:08.023 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 68 1 }
2018/03/29 14:30:08.023 [E] 执行中断操作操作
2018/03/29 14:30:08.023 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":68,"step":1,"error_msg":""}
2018/03/29 14:30:08.024 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:30:08.024 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:30:08.024 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 14:31:36.813 [D] mq reader is starting
2018/03/29 14:31:40.474 [D] already send msg, key: ts_queue_71
2018/03/29 14:31:45.822 [I] message at offset 265: ts_queue_71 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":71}

2018/03/29 14:31:45.822 [I] 任务ID: 71 执行 try
2018/03/29 14:31:45.826 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:31:45.826 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:31:45.826 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 14:31:45.826 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 14:31:45.826 [D] try 操作成功, ID: 71 1
2018/03/29 14:31:45.826 [D] 持久化状态,ID: 71
2018/03/29 14:31:45.829 [D] 更新数据库信息,ID: 71
2018/03/29 14:31:45.829 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:31:45.830 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:31:45.830 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:31:45.830 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:31:45.830 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:31:45.830 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 71 1 }
2018/03/29 14:31:45.830 [E] 执行中断操作操作
2018/03/29 14:31:45.830 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":71,"step":1,"error_msg":""}
2018/03/29 14:31:45.830 [D] 打印获取当前的返回状态 {"code":0,"data":"","error_message":"","API":"","Index":0,"error_code":0}
2018/03/29 14:31:45.830 [D] 打印获取当前的返回状态 {"code":0,"data":"","error_message":"","API":"","Index":0,"error_code":0}
2018/03/29 14:31:45.830 [E] 终止操作完毕!
2018/03/29 14:31:45.832 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:31:45.832 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/29 14:31:45.832 [E] send on closed channel
2018/03/29 14:32:45.805 [D] mq reader is starting
2018/03/29 14:32:54.833 [I] message at offset 265: ts_queue_71 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":71}

2018/03/29 14:32:54.834 [I] 任务ID: 71 执行 try
2018/03/29 14:32:54.837 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:32:54.837 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 14:32:54.837 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:32:54.837 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 14:32:54.837 [D] try 操作成功, ID: 71 1
2018/03/29 14:32:54.837 [D] 持久化状态,ID: 71
2018/03/29 14:32:54.841 [D] 更新数据库信息,ID: 71
2018/03/29 14:32:54.841 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:32:54.841 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:32:54.841 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:32:54.841 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:32:54.841 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:32:54.841 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 71 1 }
2018/03/29 14:32:54.841 [E] 执行中断操作操作
2018/03/29 14:32:54.841 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":71,"step":1,"error_msg":""}
2018/03/29 14:32:54.842 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:32:54.842 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:32:54.842 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 14:33:01.757 [D] mq reader is starting
2018/03/29 14:33:10.149 [D] already send msg, key: ts_queue_72
2018/03/29 14:33:10.771 [I] message at offset 265: ts_queue_71 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":71}

2018/03/29 14:33:10.771 [I] 任务ID: 71 执行 try
2018/03/29 14:33:10.776 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:33:10.776 [I] http://localhost:8899/api/test_confirm_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 14:33:10.776 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:33:10.776 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 14:33:10.776 [D] try 操作成功, ID: 71 1
2018/03/29 14:33:10.776 [D] 持久化状态,ID: 71
2018/03/29 14:33:10.780 [D] 更新数据库信息,ID: 71
2018/03/29 14:33:10.780 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:33:10.781 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:33:10.781 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:33:10.781 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:33:10.781 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:33:10.781 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 71 1 }
2018/03/29 14:33:10.781 [E] 执行中断操作操作
2018/03/29 14:33:10.781 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":71,"step":1,"error_msg":""}
2018/03/29 14:33:10.781 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:33:10.781 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:33:10.781 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 14:38:25.736 [D] mq reader is starting
2018/03/29 14:39:05.011 [D] mq reader is starting
2018/03/29 14:39:07.634 [D] already send msg, key: ts_queue_73
2018/03/29 14:39:14.023 [I] message at offset 267: ts_queue_73 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":73}

2018/03/29 14:39:14.024 [I] 任务ID: 73 执行 try
2018/03/29 14:39:14.027 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:39:14.027 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:39:14.027 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 14:39:14.027 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 14:39:14.027 [D] try 操作成功, ID: 73 1
2018/03/29 14:39:14.027 [D] 持久化状态,ID: 73
2018/03/29 14:39:14.033 [D] 更新数据库信息,ID: 73
2018/03/29 14:39:14.033 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:39:14.033 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:39:14.034 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:39:14.034 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:39:14.034 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:39:14.034 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 73 1 }
2018/03/29 14:39:14.034 [E] 执行中断操作操作
2018/03/29 14:39:14.034 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":73,"step":1,"error_msg":""}
2018/03/29 14:39:14.034 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:39:14.034 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:39:14.034 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 14:40:19.743 [D] mq reader is starting
2018/03/29 14:40:22.229 [D] already send msg, key: ts_queue_74
2018/03/29 14:40:28.754 [I] message at offset 268: ts_queue_74 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":74}

2018/03/29 14:40:28.754 [I] 任务ID: 74 执行 try
2018/03/29 14:40:28.759 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:40:28.759 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:40:28.759 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 14:40:28.759 [I] http://localhost:8899/api/test_confirm_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 14:40:28.759 [D] try 操作成功, ID: 74 1
2018/03/29 14:40:28.759 [D] 持久化状态,ID: 74
2018/03/29 14:40:28.763 [D] 更新数据库信息,ID: 74
2018/03/29 14:40:28.763 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:40:28.763 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:40:28.763 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:40:28.763 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:40:28.763 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:40:28.763 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 74 1 }
2018/03/29 14:40:28.763 [E] 执行中断操作操作
2018/03/29 14:40:28.763 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":74,"step":1,"error_msg":""}
2018/03/29 14:40:28.764 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:41:09.708 [D] mq reader is starting
2018/03/29 14:41:13.013 [D] already send msg, key: ts_queue_75
2018/03/29 14:41:18.721 [I] message at offset 268: ts_queue_74 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":74}

2018/03/29 14:41:18.721 [I] 任务ID: 74 执行 try
2018/03/29 14:41:18.726 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:41:18.726 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:41:18.726 [I] http://localhost:8899/api/test_confirm_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 14:41:18.726 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 14:41:18.726 [D] try 操作成功, ID: 74 1
2018/03/29 14:41:18.726 [D] 持久化状态,ID: 74
2018/03/29 14:41:18.730 [D] 更新数据库信息,ID: 74
2018/03/29 14:41:18.730 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:41:18.730 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:41:18.730 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:41:18.730 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:41:18.730 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:41:18.731 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 74 1 }
2018/03/29 14:41:18.731 [E] 执行中断操作操作
2018/03/29 14:41:18.731 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":74,"step":1,"error_msg":""}
2018/03/29 14:41:18.731 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:41:18.731 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:41:18.731 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 14:41:18.731 [E] 终止操作完毕! [{200 {"message": "try"}  http://localhost:8899/api/test/cancel 0 0}]
2018/03/29 14:41:18.731 [I] message at offset 269: ts_queue_75 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":75}

2018/03/29 14:41:18.731 [I] 任务ID: 75 执行 try
2018/03/29 14:41:18.732 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:41:18.732 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:41:18.732 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:41:18.732 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:41:18.732 [D] try 操作成功, ID: 75 1
2018/03/29 14:41:18.732 [D] 持久化状态,ID: 75
2018/03/29 14:41:18.733 [D] 更新数据库信息,ID: 75
2018/03/29 14:41:18.733 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:41:18.734 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:41:18.734 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:41:18.734 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:41:18.734 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:41:18.734 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 75 1 }
2018/03/29 14:41:18.734 [E] 执行中断操作操作
2018/03/29 14:41:18.734 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":75,"step":1,"error_msg":""}
2018/03/29 14:41:18.734 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:41:18.734 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:41:18.734 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 14:41:18.734 [E] 终止操作完毕! [{200 {"message": "try"}  http://localhost:8899/api/test/cancel 0 0}]
2018/03/29 14:50:59.814 [D] mq reader is starting
2018/03/29 14:51:04.459 [D] already send msg, key: ts_queue_76
2018/03/29 14:51:08.828 [I] message at offset 270: ts_queue_76 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":76}

2018/03/29 14:51:08.829 [I] 任务ID: 76 执行 try
2018/03/29 14:51:08.834 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:51:08.834 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:51:08.834 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 14:51:08.834 [I] http://localhost:8899/api/test_confirm_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 14:51:08.834 [D] try 操作成功, ID: 76 1
2018/03/29 14:51:08.834 [D] 持久化状态,ID: 76
2018/03/29 14:51:08.838 [D] 更新数据库信息,ID: 76
2018/03/29 14:51:08.838 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:51:08.839 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:51:08.839 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:51:08.839 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:51:08.839 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:51:08.839 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 76 1 }
2018/03/29 14:51:08.839 [E] 执行中断操作操作
2018/03/29 14:51:08.839 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":76,"step":1,"error_msg":""}
2018/03/29 14:51:08.839 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:51:08.839 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:51:08.839 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 14:51:08.839 [E] 终止操作完毕! [{200 {"message": "try"}  http://localhost:8899/api/test/cancel 0 0}]
2018/03/29 14:57:52.945 [D] mq reader is starting
2018/03/29 14:57:58.562 [D] already send msg, key: ts_queue_77
2018/03/29 14:58:01.955 [I] message at offset 271: ts_queue_77 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":77}

2018/03/29 14:58:01.956 [I] 任务ID: 77 执行 try
2018/03/29 14:58:01.960 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:58:01.960 [I] http://localhost:8899/api/test_confirm_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 14:58:01.960 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:58:01.960 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 14:58:01.960 [D] try 操作成功, ID: 77 1
2018/03/29 14:58:01.960 [D] 持久化状态,ID: 77
2018/03/29 14:58:01.965 [D] 更新数据库信息,ID: 77
2018/03/29 14:58:01.966 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 14:58:01.966 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:58:01.966 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:58:01.966 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 14:58:01.966 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 14:58:01.966 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 77 1 }
2018/03/29 14:58:01.966 [E] 执行中断操作操作
2018/03/29 14:58:01.966 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":77,"step":1,"error_msg":""}
2018/03/29 14:58:01.967 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 14:58:01.967 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 14:58:01.967 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 14:58:01.967 [E] 终止操作完毕! [{200 {"message": "try"}  http://localhost:8899/api/test/cancel 0 0}]
2018/03/29 15:00:30.234 [D] mq reader is starting
2018/03/29 15:00:33.379 [D] already send msg, key: ts_queue_78
2018/03/29 15:00:39.240 [I] message at offset 272: ts_queue_78 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":78}

2018/03/29 15:00:39.240 [I] 任务ID: 78 执行 try
2018/03/29 15:00:39.244 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:00:39.244 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 15:00:39.244 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:00:39.244 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 15:00:39.244 [D] try 操作成功, ID: 78 1
2018/03/29 15:00:39.244 [D] 持久化状态,ID: 78
2018/03/29 15:00:39.248 [D] 更新数据库信息,ID: 78
2018/03/29 15:00:39.248 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 15:00:39.248 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:00:39.248 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 15:00:39.248 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 15:00:39.248 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 15:00:39.248 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 78 1 }
2018/03/29 15:00:39.248 [E] 执行中断操作操作
2018/03/29 15:00:39.248 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":78,"step":1,"error_msg":""}
2018/03/29 15:00:39.249 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:00:39.249 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 15:00:39.249 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 15:00:39.249 [E] 终止操作完毕! [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}]
2018/03/29 15:01:38.771 [D] mq reader is starting
2018/03/29 15:01:47.781 [I] message at offset 272: ts_queue_78 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":78}

2018/03/29 15:01:47.781 [I] 任务ID: 78 执行 try
2018/03/29 15:01:47.786 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:01:47.786 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:01:47.786 [I] http://localhost:8899/api/test_confirm_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 15:01:47.786 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 15:01:47.786 [D] try 操作成功, ID: 78 1
2018/03/29 15:01:47.786 [D] 持久化状态,ID: 78
2018/03/29 15:01:47.791 [D] 更新数据库信息,ID: 78
2018/03/29 15:01:47.791 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 15:01:47.791 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:01:47.791 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 15:01:47.791 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 15:01:47.791 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 15:01:47.791 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 78 1 }
2018/03/29 15:01:47.791 [E] 执行中断操作操作
2018/03/29 15:01:47.792 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":78,"step":1,"error_msg":""}
2018/03/29 15:01:47.792 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:01:47.792 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 15:01:47.792 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 15:01:47.792 [E] 终止操作完毕! [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}]
2018/03/29 15:32:24.175 [D] mq reader is starting
2018/03/29 15:32:45.464 [D] already send msg, key: ts_queue_79
2018/03/29 15:32:51.368 [I] message at offset 273: ts_queue_79 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":79}

2018/03/29 15:32:51.368 [I] 任务ID: 79 执行 try
2018/03/29 15:32:51.371 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:32:51.371 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:32:51.371 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 15:32:51.371 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 15:32:51.371 [D] try 操作成功, ID: 79 1
2018/03/29 15:32:51.371 [D] 持久化状态,ID: 79
2018/03/29 15:32:51.375 [D] 更新数据库信息,ID: 79
2018/03/29 15:32:51.375 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 15:32:51.375 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 15:32:51.375 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 15:32:51.375 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:32:51.375 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 15:32:51.375 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 79 1 }
2018/03/29 15:32:51.375 [E] 执行中断操作操作
2018/03/29 15:32:51.375 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":79,"step":1,"error_msg":""}
2018/03/29 15:32:51.376 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:32:51.376 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 15:32:51.376 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 15:32:51.376 [E] 准备开始取消
2018/03/29 15:32:51.378 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":79,"step":1,"error_msg":""} 1522308771 [] 79
2018/03/29 15:32:51.378 [D] 此处应该向某处发送错误通知
2018/03/29 15:32:51.378 [E] 终止操作完毕! [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}]
2018/03/29 15:40:58.923 [D] mq reader is starting
2018/03/29 15:41:01.664 [D] already send msg, key: ts_queue_80
2018/03/29 15:41:07.932 [I] message at offset 274: ts_queue_80 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":80}

2018/03/29 15:41:07.932 [I] 任务ID: 80 执行 try
2018/03/29 15:41:07.937 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:41:07.937 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:41:07.937 [I] http://localhost:8899/api/test_confirm_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 15:41:07.937 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 15:41:07.937 [D] try 操作成功, ID: 80 1
2018/03/29 15:41:07.937 [D] 持久化状态,ID: 80
2018/03/29 15:41:07.942 [D] 更新数据库信息,ID: 80
2018/03/29 15:41:07.942 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 15:41:07.942 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:41:07.942 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 15:41:07.942 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 15:41:07.942 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 15:41:07.942 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 80 1 }
2018/03/29 15:41:07.942 [E] 执行中断操作操作
2018/03/29 15:41:07.942 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":80,"step":1,"error_msg":""}
2018/03/29 15:41:07.943 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:41:07.943 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 15:41:07.943 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 15:41:07.943 [E] 准备开始取消
2018/03/29 15:41:07.945 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":80,"step":1,"error_msg":""} 1522309267 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}] 80
2018/03/29 15:41:07.945 [D] 此处应该向某处发送错误通知
2018/03/29 15:41:07.945 [E] 终止操作完毕! [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}]
2018/03/29 15:45:29.224 [D] mq reader is starting
2018/03/29 15:45:32.637 [D] already send msg, key: ts_queue_81
2018/03/29 15:45:38.232 [I] message at offset 275: ts_queue_81 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":81}

2018/03/29 15:45:38.232 [I] 任务ID: 81 执行 try
2018/03/29 15:45:38.234 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:45:38.235 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:45:38.235 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 15:45:38.235 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 15:45:38.235 [D] try 操作成功, ID: 81 1
2018/03/29 15:45:38.235 [D] 持久化状态,ID: 81
2018/03/29 15:45:38.238 [D] 更新数据库信息,ID: 81
2018/03/29 15:45:38.238 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 15:45:38.239 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:45:38.239 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 15:45:38.239 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 15:45:38.239 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 15:45:38.239 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 81 1 }
2018/03/29 15:45:38.239 [E] 执行中断操作操作
2018/03/29 15:45:38.239 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":81,"step":1,"error_msg":""}
2018/03/29 15:45:38.239 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 15:45:38.239 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 15:45:38.239 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 15:45:38.239 [E] 准备开始取消
2018/03/29 15:45:38.241 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":81,"step":1,"error_msg":""} 1522309538 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}] 81
2018/03/29 15:45:38.241 [D] 此处应该向某处发送错误通知
2018/03/29 15:45:38.241 [E] 终止操作完毕! [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}]
2018/03/29 16:12:39.235 [D] mq reader is starting
2018/03/29 16:13:15.281 [D] already send msg, key: ts_queue_82
2018/03/29 16:13:15.527 [I] message at offset 276: ts_queue_82 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":82}

2018/03/29 16:13:15.527 [I] 任务ID: 82 执行 try
2018/03/29 16:13:15.531 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:13:15.532 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:13:15.532 [I] http://localhost:8899/api/test_confirm_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:13:15.532 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 16:13:15.532 [D] try 操作成功, ID: 82 1
2018/03/29 16:13:15.532 [D] 持久化状态,ID: 82
2018/03/29 16:13:15.536 [D] 更新数据库信息,ID: 82
2018/03/29 16:13:15.536 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:13:15.537 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:13:15.537 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:13:15.537 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:13:15.537 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:13:15.537 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 82 1 }
2018/03/29 16:13:15.537 [E] 执行中断操作操作
2018/03/29 16:13:15.537 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":82,"step":1,"error_msg":""}
2018/03/29 16:13:15.537 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:13:15.537 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:13:15.537 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 16:13:15.537 [E] 准备开始取消
2018/03/29 16:13:15.539 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":82,"step":1,"error_msg":""} 1522311195 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}] 82
2018/03/29 16:13:15.539 [D] 此处应该向某处发送错误通知
2018/03/29 16:13:15.539 [I] 终止操作完毕!ID: 82
2018/03/29 16:15:34.534 [D] already send msg, key: ts_queue_83
2018/03/29 16:15:41.054 [I] message at offset 277: ts_queue_83 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":83}

2018/03/29 16:15:41.054 [I] 任务ID: 83 执行 try
2018/03/29 16:15:41.059 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:15:41.059 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:15:41.059 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 16:15:41.059 [I] http://localhost:8899/api/test_cancel_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:15:41.059 [D] try 操作成功, ID: 83 1
2018/03/29 16:15:41.059 [D] 持久化状态,ID: 83
2018/03/29 16:15:41.062 [D] 更新数据库信息,ID: 83
2018/03/29 16:15:41.062 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:15:41.063 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:15:41.063 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:15:41.063 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:15:41.063 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:15:41.063 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_cancel_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 83 1 }
2018/03/29 16:15:41.063 [E] 执行中断操作操作
2018/03/29 16:15:41.063 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":83,"step":1,"error_msg":""}
2018/03/29 16:15:41.063 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:15:41.063 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:15:41.063 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 16:15:41.063 [E] 准备开始取消
2018/03/29 16:15:41.065 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":83,"step":1,"error_msg":""} 1522311341 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}] 83
2018/03/29 16:15:41.065 [D] 此处应该向某处发送错误通知
2018/03/29 16:15:41.065 [I] 终止操作完毕!ID: 83
2018/03/29 16:17:57.479 [D] mq reader is starting
2018/03/29 16:18:06.484 [I] message at offset 277: ts_queue_83 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":83}

2018/03/29 16:18:06.484 [I] 任务ID: 83 执行 try
2018/03/29 16:18:06.487 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:18:06.487 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:18:06.487 [I] http://localhost:8899/api/test_cancel_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 16:18:06.487 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 16:18:06.487 [D] try 操作成功, ID: 83 1
2018/03/29 16:18:06.487 [D] 持久化状态,ID: 83
2018/03/29 16:18:06.490 [D] 更新数据库信息,ID: 83
2018/03/29 16:18:06.490 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:18:06.491 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:18:06.491 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:18:06.491 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:18:06.491 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:18:06.491 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_cancel_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 83 1 }
2018/03/29 16:18:06.491 [E] 执行中断操作操作
2018/03/29 16:18:06.491 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":83,"step":1,"error_msg":""}
2018/03/29 16:18:06.491 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:18:06.491 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:18:06.491 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 16:18:06.491 [E] 获取当前的取消状态: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}]
2018/03/29 16:18:06.491 [E] 准备开始取消
2018/03/29 16:18:06.493 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":83,"step":1,"error_msg":""} 1522311486 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}] 83
2018/03/29 16:18:06.493 [D] 此处应该向某处发送错误通知
2018/03/29 16:18:06.493 [I] 终止操作完毕!ID: 83
2018/03/29 16:18:06.732 [D] already send msg, key: ts_queue_84
2018/03/29 16:18:15.585 [I] message at offset 278: ts_queue_84 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":84}

2018/03/29 16:18:15.585 [I] 任务ID: 84 执行 try
2018/03/29 16:18:15.586 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:18:15.586 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:18:15.586 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:18:15.586 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:18:15.586 [D] try 操作成功, ID: 84 1
2018/03/29 16:18:15.586 [D] 持久化状态,ID: 84
2018/03/29 16:18:15.590 [D] 更新数据库信息,ID: 84
2018/03/29 16:18:15.590 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:18:15.590 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:18:15.590 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:18:15.590 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:18:15.590 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:18:15.590 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_cancel_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 84 1 }
2018/03/29 16:18:15.590 [E] 执行中断操作操作
2018/03/29 16:18:15.590 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":84,"step":1,"error_msg":""}
2018/03/29 16:18:15.591 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:18:15.591 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:18:15.591 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 16:18:15.591 [E] 获取当前的取消状态: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}]
2018/03/29 16:18:15.591 [E] 准备开始取消
2018/03/29 16:18:15.593 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":84,"step":1,"error_msg":""} 1522311495 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}] 84
2018/03/29 16:18:15.593 [D] 此处应该向某处发送错误通知
2018/03/29 16:18:15.593 [I] 终止操作完毕!ID: 84
2018/03/29 16:18:55.534 [D] mq reader is starting
2018/03/29 16:18:58.079 [D] already send msg, key: ts_queue_85
2018/03/29 16:19:04.538 [I] message at offset 277: ts_queue_83 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":83}

2018/03/29 16:19:04.538 [I] 任务ID: 83 执行 try
2018/03/29 16:19:04.543 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.543 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.543 [I] http://localhost:8899/api/test_cancel_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:19:04.543 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:19:04.543 [D] try 操作成功, ID: 83 1
2018/03/29 16:19:04.543 [D] 持久化状态,ID: 83
2018/03/29 16:19:04.547 [D] 更新数据库信息,ID: 83
2018/03/29 16:19:04.547 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:19:04.548 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.548 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.548 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:19:04.548 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:19:04.548 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_cancel_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 83 1 }
2018/03/29 16:19:04.548 [E] 执行中断操作操作
2018/03/29 16:19:04.548 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":83,"step":1,"error_msg":""}
2018/03/29 16:19:04.548 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.549 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:19:04.549 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 16:19:04.549 [E] 获取当前的取消状态: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}]
2018/03/29 16:19:04.549 [E] 准备开始取消
2018/03/29 16:19:04.551 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":83,"step":1,"error_msg":""} 1522311544 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}] 83
2018/03/29 16:19:04.551 [D] 此处应该向某处发送错误通知
2018/03/29 16:19:04.551 [I] 终止操作完毕!ID: 83
2018/03/29 16:19:04.551 [I] message at offset 278: ts_queue_84 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":84}

2018/03/29 16:19:04.551 [I] 任务ID: 84 执行 try
2018/03/29 16:19:04.551 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.551 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:19:04.551 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.551 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:19:04.551 [D] try 操作成功, ID: 84 1
2018/03/29 16:19:04.551 [D] 持久化状态,ID: 84
2018/03/29 16:19:04.553 [D] 更新数据库信息,ID: 84
2018/03/29 16:19:04.553 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:19:04.553 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.553 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.553 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:19:04.553 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:19:04.554 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_cancel_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 84 1 }
2018/03/29 16:19:04.554 [E] 执行中断操作操作
2018/03/29 16:19:04.554 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":84,"step":1,"error_msg":""}
2018/03/29 16:19:04.554 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.554 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:19:04.554 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 16:19:04.554 [E] 获取当前的取消状态: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}]
2018/03/29 16:19:04.554 [E] 准备开始取消
2018/03/29 16:19:04.556 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":84,"step":1,"error_msg":""} 1522311544 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}] 84
2018/03/29 16:19:04.556 [D] 此处应该向某处发送错误通知
2018/03/29 16:19:04.556 [I] 终止操作完毕!ID: 84
2018/03/29 16:19:04.556 [I] message at offset 279: ts_queue_85 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":85}

2018/03/29 16:19:04.556 [I] 任务ID: 85 执行 try
2018/03/29 16:19:04.556 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.556 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:19:04.557 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.557 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:19:04.557 [D] try 操作成功, ID: 85 1
2018/03/29 16:19:04.557 [D] 持久化状态,ID: 85
2018/03/29 16:19:04.558 [D] 更新数据库信息,ID: 85
2018/03/29 16:19:04.558 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:19:04.559 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.559 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:19:04.559 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.559 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:19:04.559 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_cancel_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 85 1 }
2018/03/29 16:19:04.559 [E] 执行中断操作操作
2018/03/29 16:19:04.559 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":85,"step":1,"error_msg":""}
2018/03/29 16:19:04.559 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:19:04.559 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:19:04.559 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 16:19:04.559 [E] 获取当前的取消状态: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}]
2018/03/29 16:19:04.559 [E] 准备开始取消
2018/03/29 16:19:04.561 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":85,"step":1,"error_msg":""} 1522311544 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}] 85
2018/03/29 16:19:04.561 [D] 此处应该向某处发送错误通知
2018/03/29 16:19:04.561 [I] 终止操作完毕!ID: 85
2018/03/29 16:22:24.329 [D] mq reader is starting
2018/03/29 16:22:26.982 [D] already send msg, key: ts_queue_86
2018/03/29 16:22:33.336 [I] message at offset 280: ts_queue_86 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":86}

2018/03/29 16:22:33.336 [I] 任务ID: 86 执行 try
2018/03/29 16:22:33.340 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:22:33.340 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:22:33.340 [I] http://localhost:8899/api/test_cancel_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:22:33.340 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:22:33.340 [D] try 操作成功, ID: 86 1
2018/03/29 16:22:33.340 [D] 持久化状态,ID: 86
2018/03/29 16:22:33.342 [D] 更新数据库信息,ID: 86
2018/03/29 16:22:33.342 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:22:33.343 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:22:33.343 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:22:33.343 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:22:33.343 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:22:33.343 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_cancel_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 86 1 }
2018/03/29 16:22:33.343 [E] 执行中断操作操作
2018/03/29 16:22:33.343 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":86,"step":1,"error_msg":""}
2018/03/29 16:22:33.343 [E] 要执行取消了! http://localhost:8899/api/test/cancel
2018/03/29 16:22:33.343 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:22:33.343 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:22:33.343 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}
2018/03/29 16:22:33.343 [E] 获取当前的取消状态: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}]
2018/03/29 16:22:33.343 [E] 准备开始取消
2018/03/29 16:22:33.345 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":86,"step":1,"error_msg":""} 1522311753 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}] 86
2018/03/29 16:22:33.345 [D] 此处应该向某处发送错误通知
2018/03/29 16:22:33.345 [I] 终止操作完毕!ID: 86
2018/03/29 16:24:12.198 [D] mq reader is starting
2018/03/29 16:24:21.207 [I] message at offset 280: ts_queue_86 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":86}

2018/03/29 16:24:21.207 [I] 任务ID: 86 执行 try
2018/03/29 16:24:21.212 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:24:21.212 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:24:21.212 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:24:21.212 [I] http://localhost:8899/api/test_cancel_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:24:21.212 [D] try 操作成功, ID: 86 1
2018/03/29 16:24:21.212 [D] 持久化状态,ID: 86
2018/03/29 16:24:21.217 [D] 更新数据库信息,ID: 86
2018/03/29 16:24:21.217 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:24:21.217 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:24:21.217 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:24:21.217 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:24:21.217 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:24:21.217 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_cancel_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 86 1 }
2018/03/29 16:24:21.217 [I] 准备完成动作
2018/03/29 16:24:21.219 [D] 执行成功的操作完成
2018/03/29 16:24:21.219 [D] 当前准备执行的任务索引: [0 1]
2018/03/29 16:28:45.400 [D] already send msg, key: ts_queue_87
2018/03/29 16:28:54.057 [I] message at offset 281: ts_queue_87 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":87}

2018/03/29 16:28:54.057 [I] 任务ID: 87 执行 try
2018/03/29 16:28:54.060 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:28:54.060 [I] http://localhost:8899/api/test_cancel_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 16:28:54.060 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:28:54.060 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 16:28:54.060 [D] try 操作成功, ID: 87 1
2018/03/29 16:28:54.060 [D] 持久化状态,ID: 87
2018/03/29 16:28:54.062 [D] 更新数据库信息,ID: 87
2018/03/29 16:28:54.062 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:28:54.062 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:28:54.062 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:28:54.062 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:28:54.062 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:28:54.062 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 87 1 }
2018/03/29 16:28:54.062 [E] 执行中断操作操作
2018/03/29 16:28:54.062 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":87,"step":1,"error_msg":""}
2018/03/29 16:28:54.062 [E] 要执行取消了! http://localhost:8899/api/test_cancel_fault/cancel
2018/03/29 16:28:54.062 [D] post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:28:54.063 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:28:54.063 [D] 打印获取当前的返回状态 {"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"http://localhost:8899/api/test_cancel_fault/cancel","Index":1,"error_code":401}
2018/03/29 16:28:54.063 [E] 获取当前的取消状态: [{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"http://localhost:8899/api/test_cancel_fault/cancel","Index":1,"error_code":401}]
2018/03/29 16:28:54.063 [E] 存在非正常取消,但是仍然需要取消事务,这一阶段需要手动处理
2018/03/29 16:31:36.143 [D] mq reader is starting
2018/03/29 16:32:29.526 [D] already send msg, key: ts_queue_88
2018/03/29 16:32:30.660 [I] message at offset 282: ts_queue_88 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":88}

2018/03/29 16:32:30.660 [I] 任务ID: 88 执行 try
2018/03/29 16:32:30.665 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:32:30.665 [I] http://localhost:8899/api/test_confirm_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:32:30.665 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:32:30.665 [I] http://localhost:8899/api/test_cancel_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:32:30.665 [D] try 操作成功, ID: 88 1
2018/03/29 16:32:30.665 [D] 持久化状态,ID: 88
2018/03/29 16:32:30.669 [D] 更新数据库信息,ID: 88
2018/03/29 16:32:30.669 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:32:30.669 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:32:30.669 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:32:30.669 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:32:30.669 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:32:30.669 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 88 1 }
2018/03/29 16:32:30.669 [E] 执行中断操作操作
2018/03/29 16:32:30.670 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":88,"step":1,"error_msg":""}
2018/03/29 16:32:30.670 [E] 要执行取消了! http://localhost:8899/api/test_cancel_fault/cancel
2018/03/29 16:32:30.670 [D] post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:32:30.670 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:32:30.670 [D] 打印获取当前的返回状态 {"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"http://localhost:8899/api/test_cancel_fault/cancel","Index":1,"error_code":401}
2018/03/29 16:32:30.670 [E] 获取当前的取消状态: [{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"http://localhost:8899/api/test_cancel_fault/cancel","Index":1,"error_code":401}]
2018/03/29 16:32:30.670 [E] 存在非正常取消,但是仍然需要取消事务,这一阶段需要手动处理
2018/03/29 16:34:41.856 [D] already send msg, key: ts_queue_89
2018/03/29 16:34:47.086 [I] message at offset 283: ts_queue_89 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":89}

2018/03/29 16:34:47.086 [I] 任务ID: 89 执行 try
2018/03/29 16:34:47.089 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:34:47.090 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:34:47.090 [I] http://localhost:8899/api/test_cancel_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 16:34:47.090 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 16:34:47.090 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:34:47.090 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 16:34:47.090 [D] try 操作成功, ID: 89 1
2018/03/29 16:34:47.090 [D] 持久化状态,ID: 89
2018/03/29 16:34:47.094 [D] 更新数据库信息,ID: 89
2018/03/29 16:34:47.094 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:34:47.094 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:34:47.094 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:34:47.095 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:34:47.095 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:34:47.095 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:34:47.095 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:34:47.095 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 89 1 }
2018/03/29 16:34:47.095 [E] 执行中断操作操作
2018/03/29 16:34:47.095 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":89,"step":1,"error_msg":""}
2018/03/29 16:34:47.095 [E] 要执行取消了! http://localhost:8899/api/test/cancel
2018/03/29 16:34:47.095 [E] 要执行取消了! http://localhost:8899/api/test_cancel_fault/cancel
2018/03/29 16:34:47.095 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:34:47.095 [D] post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:34:47.095 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:34:47.095 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:34:47.095 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":2,"error_code":0}
2018/03/29 16:34:47.095 [D] 打印获取当前的返回状态 {"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"http://localhost:8899/api/test_cancel_fault/cancel","Index":1,"error_code":401}
2018/03/29 16:34:47.095 [E] 获取当前的取消状态: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":2,"error_code":0},{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"http://localhost:8899/api/test_cancel_fault/cancel","Index":1,"error_code":401}]
2018/03/29 16:34:47.095 [E] 存在非正常取消,但是仍然需要取消事务,这一阶段需要手动处理
2018/03/29 16:39:47.249 [D] mq reader is starting
2018/03/29 16:41:16.030 [D] mq reader is starting
2018/03/29 16:41:22.117 [D] already send msg, key: ts_queue_90
2018/03/29 16:41:25.044 [I] message at offset 284: ts_queue_90 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":90}

2018/03/29 16:41:25.044 [I] 任务ID: 90 执行 try
2018/03/29 16:41:25.049 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:41:25.049 [I] http://localhost:8899/api/test_confirm_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:41:25.049 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:41:25.049 [I] http://localhost:8899/api/test_cancel_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:41:25.049 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:41:25.049 [I] http://localhost:8899/api/test :  delay: 5 ms 200 {"message": "try"}
2018/03/29 16:41:25.049 [D] try 操作成功, ID: 90 1
2018/03/29 16:41:25.049 [D] 持久化状态,ID: 90
2018/03/29 16:41:25.053 [D] 更新数据库信息,ID: 90
2018/03/29 16:41:25.053 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:41:25.054 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:41:25.054 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:41:25.054 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:41:25.054 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:41:25.054 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:41:25.054 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:41:25.054 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 90 1 }
2018/03/29 16:41:25.054 [E] 执行中断操作操作
2018/03/29 16:41:25.054 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":90,"step":1,"error_msg":""}
2018/03/29 16:41:25.054 [E] 要执行取消了! http://localhost:8899/api/test/cancel
2018/03/29 16:41:25.054 [E] 要执行取消了! http://localhost:8899/api/test_cancel_fault/cancel
2018/03/29 16:41:25.055 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:41:25.055 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/29 16:41:25.055 [D] 打印获取当前的返回状态 {"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":2,"error_code":0}
2018/03/29 16:41:25.055 [D] post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:41:25.055 [I] http://localhost:8899/api/test_cancel_fault :  delay: 1 ms 401 {"message": "try"}
2018/03/29 16:41:25.055 [D] 打印获取当前的返回状态 {"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"http://localhost:8899/api/test_cancel_fault/cancel","Index":1,"error_code":401}
2018/03/29 16:41:25.055 [E] 获取当前的取消状态: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":2,"error_code":0},{"code":401,"data":"{\"message\": \"try\"}","error_message":"something was wrong","API":"http://localhost:8899/api/test_cancel_fault/cancel","Index":1,"error_code":401}]
2018/03/29 16:41:25.058 [D] 此处应该向某处发送 [事务异常] 通知
2018/03/29 16:42:15.004 [D] mq reader is starting
2018/03/29 16:42:24.019 [I] message at offset 284: ts_queue_90 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":90}

2018/03/29 16:42:24.020 [I] 任务ID: 90 执行 try
2018/03/29 16:42:24.023 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:42:24.023 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:42:24.023 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:42:24.023 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 16:42:24.023 [I] http://localhost:8899/api/test_cancel_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 16:42:24.023 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 16:42:24.023 [D] try 操作成功, ID: 90 1
2018/03/29 16:42:24.023 [D] 持久化状态,ID: 90
2018/03/29 16:42:24.025 [D] 更新数据库信息,ID: 90
2018/03/29 16:42:24.025 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:42:24.026 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:42:24.026 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:42:24.026 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:42:24.026 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:42:24.026 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:42:24.026 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:42:24.026 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 90 1 }
2018/03/29 16:42:24.026 [E] 执行中断操作操作
2018/03/29 16:42:24.026 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":90,"step":1,"error_msg":""}
2018/03/29 16:42:24.026 [E] 要执行取消了! http://localhost:8899/api/test/cancel
2018/03/29 16:42:24.026 [E] 要执行取消了! http://localhost:8899/api/test_cancel_fault/cancel
2018/03/29 16:42:24.027 [D] post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:42:24.027 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:42:24.027 [I] http://localhost:8899/api/test_cancel_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:42:24.027 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:42:24.029 [D] 此处应该向某处发送 [事务异常] 通知
2018/03/29 16:47:25.257 [D] mq reader is starting
2018/03/29 16:48:26.102 [D] already send msg, key: ts_queue_91
2018/03/29 16:48:28.870 [I] message at offset 285: ts_queue_91 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":91}

2018/03/29 16:48:28.871 [I] 任务ID: 91 执行 try
2018/03/29 16:48:28.875 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:48:28.875 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 16:48:28.875 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:48:28.875 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 3 ms 200 {"message": "try"}
2018/03/29 16:48:28.875 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:48:28.875 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 16:48:28.875 [D] try 操作成功, ID: 91 1
2018/03/29 16:48:28.875 [D] 持久化状态,ID: 91
2018/03/29 16:48:28.879 [D] 更新数据库信息,ID: 91
2018/03/29 16:48:28.879 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:48:28.879 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:48:28.879 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:48:28.879 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:48:28.879 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:48:28.879 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:48:28.880 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:48:28.880 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 91 1 }
2018/03/29 16:48:28.880 [E] 执行中断操作操作
2018/03/29 16:48:28.880 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":91,"step":1,"error_msg":""}
2018/03/29 16:48:28.880 [E] 要执行取消了! http://localhost:8899/api/test/cancel
2018/03/29 16:48:28.880 [E] 要执行取消了! http://localhost:8899/api/test_cancel_timeout/cancel
2018/03/29 16:48:28.881 [D] post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:48:28.881 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:48:28.881 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:48:28.881 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/29 16:48:28.881 [D] 执行重回队列的操作
2018/03/29 16:49:11.282 [D] mq reader is starting
2018/03/29 16:49:13.470 [D] already send msg, key: ts_queue_92
2018/03/29 16:49:20.297 [I] message at offset 285: ts_queue_91 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":91}

2018/03/29 16:49:20.297 [I] 任务ID: 91 执行 try
2018/03/29 16:49:20.302 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.302 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.302 [I] http://localhost:8899/api/test_confirm_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:49:20.302 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.302 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:49:20.302 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:49:20.302 [D] try 操作成功, ID: 91 1
2018/03/29 16:49:20.302 [D] 持久化状态,ID: 91
2018/03/29 16:49:20.307 [D] 更新数据库信息,ID: 91
2018/03/29 16:49:20.307 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:49:20.307 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.307 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:49:20.307 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.307 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:49:20.308 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.308 [I] http://localhost:8899/api/test_confirm_fault :  delay: 1 ms 401 {"message": "try"}
2018/03/29 16:49:20.308 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 91 1 }
2018/03/29 16:49:20.308 [E] 执行中断操作操作
2018/03/29 16:49:20.308 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":91,"step":1,"error_msg":""}
2018/03/29 16:49:20.308 [E] 要执行取消了! http://localhost:8899/api/test/cancel
2018/03/29 16:49:20.308 [E] 要执行取消了! http://localhost:8899/api/test_cancel_timeout/cancel
2018/03/29 16:49:20.309 [D] post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.309 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.309 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.309 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:49:20.309 [D] 执行重回队列的操作 cancel step
2018/03/29 16:49:20.309 [I] message at offset 286: ts_queue_92 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":92}

2018/03/29 16:49:20.309 [I] 任务ID: 92 执行 try
2018/03/29 16:49:20.310 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.310 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:49:20.310 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.310 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:49:20.310 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.310 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:49:20.310 [D] try 操作成功, ID: 92 1
2018/03/29 16:49:20.310 [D] 持久化状态,ID: 92
2018/03/29 16:49:20.313 [D] 更新数据库信息,ID: 92
2018/03/29 16:49:20.313 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:49:20.314 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.314 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:49:20.314 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.314 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:49:20.315 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.315 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 200 {"message": "try"}
2018/03/29 16:49:20.315 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 92 1 }
2018/03/29 16:49:20.315 [E] 执行中断操作操作
2018/03/29 16:49:20.315 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":92,"step":1,"error_msg":""}
2018/03/29 16:49:20.315 [E] 要执行取消了! http://localhost:8899/api/test/cancel
2018/03/29 16:49:20.315 [E] 要执行取消了! http://localhost:8899/api/test_cancel_timeout/cancel
2018/03/29 16:49:20.316 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.316 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/29 16:49:20.316 [D] post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.316 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:49:20.316 [D] 执行重回队列的操作 cancel step
2018/03/29 16:50:44.066 [D] mq reader is starting
2018/03/29 16:50:48.096 [D] already send msg, key: ts_queue_93
2018/03/29 16:50:53.074 [I] message at offset 287: ts_queue_93 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":93}

2018/03/29 16:50:53.074 [I] 任务ID: 93 执行 try
2018/03/29 16:50:53.077 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:50:53.077 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:50:53.077 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 200 {"message": "try"}
2018/03/29 16:50:53.077 [D] post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:50:53.077 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 16:50:53.077 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 16:50:53.077 [D] try 操作成功, ID: 93 1
2018/03/29 16:50:53.077 [D] 持久化状态,ID: 93
2018/03/29 16:50:53.081 [D] 更新数据库信息,ID: 93
2018/03/29 16:50:53.081 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:50:53.081 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:50:53.081 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:50:53.081 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:50:53.081 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:50:53.082 [D] post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:50:53.082 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:50:53.082 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 93 1 }
2018/03/29 16:50:53.082 [E] 执行中断操作操作
2018/03/29 16:50:53.082 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":93,"step":1,"error_msg":""}
2018/03/29 16:50:53.082 [D] post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:50:53.082 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:50:53.082 [D] post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:50:53.082 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:50:53.082 [D] 执行重回队列的操作 cancel step
2018/03/29 16:51:57.952 [D] mq reader is starting
2018/03/29 16:52:06.965 [I] message at offset 287: ts_queue_93 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":93}

2018/03/29 16:52:06.965 [I] 任务ID: 93 执行 try
2018/03/29 16:52:06.969 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:52:06.969 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 16:52:06.969 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:52:06.969 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:52:06.970 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:52:06.970 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 4 ms 200 {"message": "try"}
2018/03/29 16:52:06.970 [D] try 操作成功, ID: 93 1
2018/03/29 16:52:06.970 [D] 持久化状态,ID: 93
2018/03/29 16:52:06.974 [D] 更新数据库信息,ID: 93
2018/03/29 16:52:06.974 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 16:52:06.974 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:52:06.974 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:52:06.974 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:52:06.974 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 16:52:06.975 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:52:06.975 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:52:06.975 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 93 1 }
2018/03/29 16:52:06.975 [E] 执行中断操作操作
2018/03/29 16:52:06.975 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":93,"step":1,"error_msg":""}
2018/03/29 16:52:06.975 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 16:52:06.975 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 16:52:06.976 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:52:06.976 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 16:52:06.976 [D] 执行重回队列的操作 cancel step
2018/03/29 16:57:42.325 [D] mq reader is starting
2018/03/29 17:00:59.193 [D] mq reader is starting
2018/03/29 17:07:10.803 [D] mq reader is starting
2018/03/29 17:07:49.989 [D] already send msg, key: ts_queue_94
2018/03/29 17:07:56.239 [I] message at offset 288: ts_queue_94 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":94}

2018/03/29 17:07:56.239 [I] 执行 try,ID: 94
2018/03/29 17:07:56.242 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 17:07:56.242 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 17:07:56.242 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 200 {"message": "try"}
2018/03/29 17:07:56.242 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 17:07:56.242 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 17:07:56.243 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 17:07:56.243 [I] try 操作完成,ID: 94  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0}]
2018/03/29 17:07:56.243 [D] try 操作成功, ID: 94 1
2018/03/29 17:07:56.243 [D] 持久化状态,ID: 94
2018/03/29 17:07:56.245 [D] 更新数据库信息,ID: 94
2018/03/29 17:07:56.245 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 17:07:56.245 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 17:07:56.245 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 17:07:56.246 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 17:07:56.246 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 17:07:56.246 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 17:07:56.246 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 17:07:56.246 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 94 1 }
2018/03/29 17:07:56.246 [I] 执行中断操作操作,ID: 94
2018/03/29 17:07:56.246 [D] 持久化状态,ID: 94
2018/03/29 17:07:56.248 [D] 更新数据库信息,ID: 94
2018/03/29 17:07:56.248 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":94,"step":2,"error_msg":""}
2018/03/29 17:07:56.249 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 17:07:56.249 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 17:07:56.249 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 17:07:56.249 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 17:07:56.249 [D] 执行重回队列的操作 cancel step
2018/03/29 17:35:09.529 [D] mq reader is starting
2018/03/29 17:35:25.391 [D] mq reader is starting
2018/03/29 17:35:32.366 [D] already send msg, key: ts_queue_95
2018/03/29 17:35:34.414 [I] message at offset 289: ts_queue_95 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":95}

2018/03/29 17:35:34.415 [I] 执行 try,ID: 95
2018/03/29 17:35:34.419 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 17:35:34.419 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 17:35:34.419 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 17:35:34.419 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 3 ms 200 {"message": "try"}
2018/03/29 17:35:34.419 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 17:35:34.419 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/29 17:35:34.419 [I] try 操作完成,ID: 95  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0}]
2018/03/29 17:35:34.419 [D] try 操作成功, ID: 95 1
2018/03/29 17:35:34.419 [D] 持久化状态,ID: 95
2018/03/29 17:35:34.423 [D] 更新数据库信息,ID: 95
2018/03/29 17:35:34.423 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 17:35:34.423 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 17:35:34.423 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 17:35:34.423 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 17:35:34.423 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 17:35:34.424 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 17:35:34.424 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 17:35:34.424 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 95 1 }
2018/03/29 17:35:34.424 [I] 执行中断操作操作,ID: 95
2018/03/29 17:35:34.424 [D] 持久化状态,ID: 95
2018/03/29 17:35:34.426 [D] 更新数据库信息,ID: 95
2018/03/29 17:35:34.426 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":95,"step":2,"error_msg":""}
2018/03/29 17:35:34.427 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 17:35:34.427 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 17:35:34.427 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 17:35:34.427 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 17:35:34.427 [D] 执行重回队列的操作 cancel step
2018/03/29 17:35:34.440 [D] already send msg, key: ts_queue_95_1
2018/03/29 17:35:43.518 [I] message at offset 290: ts_queue_95_1 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":1,"exec_time":0,"ID":95,"step":2,"error_msg":""}

2018/03/29 18:01:17.705 [D] mq reader is starting
2018/03/29 18:07:56.183 [D] mq reader is starting
2018/03/29 18:07:59.672 [E] 当前发送消息为:  {"ID":96,"exec_time":1522318079}
2018/03/29 18:07:59.681 [D] already send msg, key: ts_queue_96
2018/03/29 18:08:05.199 [I] message at offset 291: ts_queue_96 = {"ID":96,"exec_time":1522318079}

2018/03/29 18:10:50.876 [D] mq reader is starting
2018/03/29 18:10:54.753 [E] 当前发送消息为:  {"ID":97,"exec_time":1522318254}
2018/03/29 18:10:54.761 [D] already send msg, key: ts_queue_97
2018/03/29 18:10:59.892 [I] message at offset 292: ts_queue_97 = {"ID":97,"exec_time":1522318254}

2018/03/29 18:10:59.892 [E] 收到消息: {97 1522318254}
2018/03/29 18:24:45.277 [D] mq reader is starting
2018/03/29 18:25:03.975 [E] 当前发送消息为:  {"ID":98,"exec_time":1522319103}
2018/03/29 18:25:03.982 [D] already send msg, key: ts_queue_98
2018/03/29 18:25:12.486 [I] message at offset 293: ts_queue_98 = {"ID":98,"exec_time":1522319103}

2018/03/29 18:25:12.486 [E] 收到消息: {98 1522319103}
2018/03/29 18:25:26.528 [D] mq reader is starting
2018/03/29 18:25:28.982 [E] 当前发送消息为:  {"ID":99,"exec_time":1522319128}
2018/03/29 18:25:28.989 [D] already send msg, key: ts_queue_99
2018/03/29 18:25:35.539 [I] message at offset 293: ts_queue_98 = {"ID":98,"exec_time":1522319103}

2018/03/29 18:25:35.539 [E] 收到消息: {98 1522319103}
2018/03/29 18:25:35.541 [E] 获取数据库信息: {0  0 0 0} Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'WHERE id = ?' at line 1
2018/03/29 18:25:35.541 [I] message at offset 294: ts_queue_99 = {"ID":99,"exec_time":1522319128}

2018/03/29 18:25:35.541 [E] 收到消息: {99 1522319128}
2018/03/29 18:25:35.542 [E] 获取数据库信息: {0  0 0 0} Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'WHERE id = ?' at line 1
2018/03/29 18:25:57.428 [D] mq reader is starting
2018/03/29 18:26:01.016 [E] 当前发送消息为:  {"ID":100,"exec_time":1522319161}
2018/03/29 18:26:01.025 [D] already send msg, key: ts_queue_100
2018/03/29 18:26:06.445 [I] message at offset 293: ts_queue_98 = {"ID":98,"exec_time":1522319103}

2018/03/29 18:26:06.445 [E] 收到消息: {98 1522319103}
2018/03/29 18:26:06.451 [E] 获取数据库信息: {0  0 0 0} sql: expected 7 destination arguments in Scan, not 2
2018/03/29 18:26:06.451 [I] message at offset 294: ts_queue_99 = {"ID":99,"exec_time":1522319128}

2018/03/29 18:26:06.451 [E] 收到消息: {99 1522319128}
2018/03/29 18:26:06.452 [E] 获取数据库信息: {0  0 0 0} sql: expected 7 destination arguments in Scan, not 2
2018/03/29 18:26:06.452 [I] message at offset 295: ts_queue_100 = {"ID":100,"exec_time":1522319161}

2018/03/29 18:26:06.453 [E] 收到消息: {100 1522319161}
2018/03/29 18:26:06.454 [E] 获取数据库信息: {0  0 0 0} sql: expected 7 destination arguments in Scan, not 2
2018/03/29 18:27:14.827 [D] mq reader is starting
2018/03/29 18:27:17.559 [E] 当前发送消息为:  {"ID":101,"exec_time":1522319237}
2018/03/29 18:27:17.566 [D] already send msg, key: ts_queue_101
2018/03/29 18:27:23.843 [I] message at offset 293: ts_queue_98 = {"ID":98,"exec_time":1522319103}

2018/03/29 18:27:23.843 [E] 收到消息: {98 1522319103}
2018/03/29 18:27:23.846 [E] 获取数据库信息: {15 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{'message': 'cancel'}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":0} 0 1522225336 1522225336} <nil>
2018/03/29 18:27:23.846 [I] message at offset 294: ts_queue_99 = {"ID":99,"exec_time":1522319128}

2018/03/29 18:27:23.846 [E] 收到消息: {99 1522319128}
2018/03/29 18:27:23.848 [E] 获取数据库信息: {15 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{'message': 'cancel'}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":0} 0 1522225336 1522225336} <nil>
2018/03/29 18:27:23.848 [I] message at offset 295: ts_queue_100 = {"ID":100,"exec_time":1522319161}

2018/03/29 18:27:23.848 [E] 收到消息: {100 1522319161}
2018/03/29 18:27:23.850 [E] 获取数据库信息: {15 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{'message': 'cancel'}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":0} 0 1522225336 1522225336} <nil>
2018/03/29 18:27:23.850 [I] message at offset 296: ts_queue_101 = {"ID":101,"exec_time":1522319237}

2018/03/29 18:27:23.850 [E] 收到消息: {101 1522319237}
2018/03/29 18:27:23.852 [E] 获取数据库信息: {15 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{'message': 'cancel'}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"}],"ID":0} 0 1522225336 1522225336} <nil>
2018/03/29 18:27:58.123 [D] mq reader is starting
2018/03/29 18:28:01.953 [E] 当前发送消息为:  {"ID":102,"exec_time":1522319281}
2018/03/29 18:28:01.961 [D] already send msg, key: ts_queue_102
2018/03/29 18:28:07.140 [I] message at offset 293: ts_queue_98 = {"ID":98,"exec_time":1522319103}

2018/03/29 18:28:07.140 [E] 收到消息: {98 1522319103}
2018/03/29 18:28:07.142 [E] 获取数据库信息: {0  0 0 0} sql: no rows in result set
2018/03/29 18:28:07.142 [I] message at offset 294: ts_queue_99 = {"ID":99,"exec_time":1522319128}

2018/03/29 18:28:07.142 [E] 收到消息: {99 1522319128}
2018/03/29 18:28:07.143 [E] 获取数据库信息: {0  0 0 0} sql: no rows in result set
2018/03/29 18:28:07.143 [I] message at offset 295: ts_queue_100 = {"ID":100,"exec_time":1522319161}

2018/03/29 18:28:07.143 [E] 收到消息: {100 1522319161}
2018/03/29 18:28:07.146 [E] 获取数据库信息: {0  0 0 0} sql: no rows in result set
2018/03/29 18:28:07.146 [I] message at offset 296: ts_queue_101 = {"ID":101,"exec_time":1522319237}

2018/03/29 18:28:07.146 [E] 收到消息: {101 1522319237}
2018/03/29 18:28:07.149 [E] 获取数据库信息: {0  0 0 0} sql: no rows in result set
2018/03/29 18:28:07.149 [I] message at offset 297: ts_queue_102 = {"ID":102,"exec_time":1522319281}

2018/03/29 18:28:07.149 [E] 收到消息: {102 1522319281}
2018/03/29 18:28:07.151 [E] 获取数据库信息: {0  0 0 0} sql: no rows in result set
2018/03/29 20:02:44.396 [D] mq reader is starting
2018/03/29 20:02:50.129 [E] 当前发送消息为:  {"ID":103,"exec_time":1522324970}
2018/03/29 20:02:50.137 [D] already send msg, key: ts_queue_103
2018/03/29 20:02:53.402 [I] message at offset 298: ts_queue_103 = {"ID":103,"exec_time":1522324970}

2018/03/29 20:02:53.402 [E] 收到消息: {103 1522324970}
2018/03/29 20:02:53.404 [E] 获取数据库信息: {0  0 0 0} sql: no rows in result set { [] 0 0 0 0 }
2018/03/29 20:03:11.183 [D] mq reader is starting
2018/03/29 20:03:14.810 [E] 当前发送消息为:  {"ID":104,"exec_time":1522324994}
2018/03/29 20:03:14.822 [D] already send msg, key: ts_queue_104
2018/03/29 20:03:20.198 [I] message at offset 298: ts_queue_103 = {"ID":103,"exec_time":1522324970}

2018/03/29 20:03:20.198 [E] 收到消息: {103 1522324970}
2018/03/29 20:03:20.200 [E] 获取数据库信息: {103 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":0} 0 1522324970 1522324970} <nil> {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:03:20.200 [I] message at offset 299: ts_queue_104 = {"ID":104,"exec_time":1522324994}

2018/03/29 20:03:20.200 [E] 收到消息: {104 1522324994}
2018/03/29 20:03:20.205 [E] 获取数据库信息: {104 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":0} 0 1522324994 1522324994} <nil> {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:03:43.504 [E] 当前发送消息为:  {"ID":105,"exec_time":1522325023}
2018/03/29 20:03:43.515 [D] already send msg, key: ts_queue_105
2018/03/29 20:03:47.480 [I] message at offset 300: ts_queue_105 = {"ID":105,"exec_time":1522325023}

2018/03/29 20:03:47.480 [E] 收到消息: {105 1522325023}
2018/03/29 20:03:47.483 [E] 获取数据库信息: {105 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":0} 0 1522325023 1522325023} <nil> {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:42:58.107 [D] mq reader is starting
2018/03/29 20:43:02.160 [E] 当前发送消息为:  {"ID":106,"exec_time":1522327382}
2018/03/29 20:43:02.168 [D] already send msg, key: ts_queue_106
2018/03/29 20:43:07.118 [I] message at offset 301: ts_queue_106 = {"ID":106,"exec_time":1522327382}

2018/03/29 20:43:07.118 [E] 收到消息: {106 1522327382}
2018/03/29 20:43:07.120 [E] 获取数据库信息: {106 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":0} 0 1522327382 1522327382} <nil> {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:44:54.749 [D] mq reader is starting
2018/03/29 20:45:10.504 [E] 当前发送消息为:  {"ID":107,"exec_time":1522327510}
2018/03/29 20:45:10.510 [D] already send msg, key: ts_queue_107
2018/03/29 20:45:12.856 [I] message at offset 302: ts_queue_107 = {"ID":107,"exec_time":1522327510}

2018/03/29 20:45:12.856 [E] 收到消息: {107 1522327510}
2018/03/29 20:45:12.859 [E] 获取数据库信息: {107 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}"}],"ID":0} 0 1522327510 1522327510} <nil> {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:46:19.209 [D] mq reader is starting
2018/03/29 20:46:28.218 [I] message at offset 302: ts_queue_107 = {"ID":107,"exec_time":1522327510}

2018/03/29 20:46:28.218 [E] 收到消息: {107 1522327510}
2018/03/29 20:47:54.942 [D] mq reader is starting
2018/03/29 20:47:58.311 [E] 当前发送消息为:  {"ID":108,"exec_time":1522327678}
2018/03/29 20:47:58.317 [D] already send msg, key: ts_queue_108
2018/03/29 20:48:03.953 [I] message at offset 302: ts_queue_107 = {"ID":107,"exec_time":1522327510}

2018/03/29 20:48:03.954 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:48:03.954 [I] message at offset 303: ts_queue_108 = {"ID":108,"exec_time":1522327678}

2018/03/29 20:48:03.955 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:48:26.190 [D] mq reader is starting
2018/03/29 20:48:28.928 [E] 当前发送消息为:  {"ID":109,"exec_time":1522327708}
2018/03/29 20:48:28.938 [D] already send msg, key: ts_queue_109
2018/03/29 20:48:35.194 [I] message at offset 302: ts_queue_107 = {"ID":107,"exec_time":1522327510}

2018/03/29 20:48:35.196 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:48:35.196 [I] 执行 try,ID: 0
2018/03/29 20:48:35.199 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.199 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 20:48:35.199 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.199 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 3 ms 200 {"message": "try"}
2018/03/29 20:48:35.199 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.199 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 20:48:35.199 [I] try 操作完成,ID: 0  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0}]
2018/03/29 20:48:35.199 [D] try 操作成功, ID: 0 1
2018/03/29 20:48:35.199 [D] 持久化状态,ID: 0
2018/03/29 20:48:35.201 [D] 更新数据库信息,ID: 0
2018/03/29 20:48:35.201 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 20:48:35.201 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.201 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.201 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.201 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 20:48:35.202 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.202 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.202 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 0 1 }
2018/03/29 20:48:35.202 [I] 执行中断操作操作,ID: 0
2018/03/29 20:48:35.202 [D] 持久化状态,ID: 0
2018/03/29 20:48:35.204 [D] 更新数据库信息,ID: 0
2018/03/29 20:48:35.204 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":0,"step":2,"error_msg":""}
2018/03/29 20:48:35.204 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.204 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.204 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.204 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.204 [D] 执行重回队列的操作 cancel step
2018/03/29 20:48:35.212 [D] already send msg, key: ts_queue_0_1
2018/03/29 20:48:35.212 [I] message at offset 303: ts_queue_108 = {"ID":108,"exec_time":1522327678}

2018/03/29 20:48:35.215 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:48:35.215 [I] 执行 try,ID: 0
2018/03/29 20:48:35.215 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.215 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.215 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.215 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.216 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.216 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.216 [I] try 操作完成,ID: 0  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0}]
2018/03/29 20:48:35.216 [D] try 操作成功, ID: 0 1
2018/03/29 20:48:35.216 [D] 持久化状态,ID: 0
2018/03/29 20:48:35.217 [D] 更新数据库信息,ID: 0
2018/03/29 20:48:35.217 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 20:48:35.218 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.218 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.218 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.218 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.218 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.218 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 20:48:35.218 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 0 1 }
2018/03/29 20:48:35.218 [I] 执行中断操作操作,ID: 0
2018/03/29 20:48:35.218 [D] 持久化状态,ID: 0
2018/03/29 20:48:35.220 [D] 更新数据库信息,ID: 0
2018/03/29 20:48:35.220 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":0,"step":2,"error_msg":""}
2018/03/29 20:48:35.221 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.221 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.221 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.221 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.221 [D] 执行重回队列的操作 cancel step
2018/03/29 20:48:35.232 [D] already send msg, key: ts_queue_0_1
2018/03/29 20:48:35.232 [I] message at offset 304: ts_queue_109 = {"ID":109,"exec_time":1522327708}

2018/03/29 20:48:35.236 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:48:35.236 [I] 执行 try,ID: 0
2018/03/29 20:48:35.236 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.236 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.236 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.236 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.237 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.237 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.237 [I] try 操作完成,ID: 0  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0}]
2018/03/29 20:48:35.237 [D] try 操作成功, ID: 0 1
2018/03/29 20:48:35.237 [D] 持久化状态,ID: 0
2018/03/29 20:48:35.239 [D] 更新数据库信息,ID: 0
2018/03/29 20:48:35.239 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 20:48:35.239 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.239 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 20:48:35.239 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.239 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.239 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.239 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.239 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 0 1 }
2018/03/29 20:48:35.239 [I] 执行中断操作操作,ID: 0
2018/03/29 20:48:35.239 [D] 持久化状态,ID: 0
2018/03/29 20:48:35.241 [D] 更新数据库信息,ID: 0
2018/03/29 20:48:35.241 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":0,"step":2,"error_msg":""}
2018/03/29 20:48:35.242 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.242 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:48:35.242 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.242 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:48:35.242 [D] 执行重回队列的操作 cancel step
2018/03/29 20:48:35.250 [D] already send msg, key: ts_queue_0_1
2018/03/29 20:49:20.419 [D] mq reader is starting
2018/03/29 20:50:41.971 [D] mq reader is starting
2018/03/29 20:50:48.313 [D] mq reader is starting
2018/03/29 20:50:59.720 [D] mq reader is starting
2018/03/29 20:51:02.246 [E] 当前发送消息为:  {"ID":110,"exec_time":1522327862}
2018/03/29 20:51:02.252 [D] already send msg, key: ts_queue_110
2018/03/29 20:51:08.724 [I] message at offset 308: ts_queue_110 = {"ID":110,"exec_time":1522327862}

2018/03/29 20:51:08.727 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:51:08.727 [I] 执行 try,ID: 0
2018/03/29 20:51:08.730 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:51:08.730 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:51:08.730 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 20:51:08.730 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 20:51:08.730 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:51:08.730 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 200 {"message": "try"}
2018/03/29 20:51:08.730 [I] try 操作完成,ID: 0  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0}]
2018/03/29 20:51:08.730 [D] try 操作成功, ID: 0 1
2018/03/29 20:51:08.730 [D] 持久化状态,ID: 0
2018/03/29 20:51:08.732 [D] 更新数据库信息,ID: 0
2018/03/29 20:51:08.732 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 20:51:08.732 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:51:08.732 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:51:08.732 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:51:08.732 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 20:51:08.732 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:51:08.732 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:51:08.733 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 0 1 }
2018/03/29 20:51:08.733 [I] 执行中断操作操作,ID: 0
2018/03/29 20:51:08.733 [D] 持久化状态,ID: 0
2018/03/29 20:51:08.734 [D] 更新数据库信息,ID: 0
2018/03/29 20:51:08.734 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":0,"step":2,"error_msg":""}
2018/03/29 20:51:08.735 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:51:08.735 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:51:08.735 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:51:08.735 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:51:08.735 [D] 执行重回队列的操作 cancel step
2018/03/29 20:51:08.742 [D] already send msg, key: ts_queue_0
2018/03/29 20:51:17.820 [I] message at offset 309: ts_queue_0 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":1,"exec_time":0,"ID":0,"step":2,"error_msg":""}

2018/03/29 20:53:09.199 [D] mq reader is starting
2018/03/29 20:53:12.314 [E] 当前发送消息为:  {"ID":111,"exec_time":1522327992}
2018/03/29 20:53:12.321 [D] already send msg, key: ts_queue_111
2018/03/29 20:53:18.218 [I] message at offset 308: ts_queue_110 = {"ID":110,"exec_time":1522327862}

2018/03/29 20:53:18.222 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:53:18.222 [I] 执行 try,ID: 0
2018/03/29 20:53:18.226 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.226 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.226 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 20:53:18.226 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 20:53:18.226 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.226 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 3 ms 200 {"message": "try"}
2018/03/29 20:53:18.226 [I] try 操作完成,ID: 0  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0}]
2018/03/29 20:53:18.226 [D] try 操作成功, ID: 0 1
2018/03/29 20:53:18.226 [D] 持久化状态,ID: 0
2018/03/29 20:53:18.228 [D] 更新数据库信息,ID: 0
2018/03/29 20:53:18.228 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 20:53:18.229 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.229 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 20:53:18.229 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.229 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:53:18.229 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.229 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 200 {"message": "try"}
2018/03/29 20:53:18.229 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 0 1 }
2018/03/29 20:53:18.229 [I] 执行中断操作操作,ID: 0
2018/03/29 20:53:18.229 [D] 持久化状态,ID: 0
2018/03/29 20:53:18.233 [D] 更新数据库信息,ID: 0
2018/03/29 20:53:18.233 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":0,"step":2,"error_msg":""}
2018/03/29 20:53:18.233 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.233 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:53:18.233 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.233 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.233 [D] 执行重回队列的操作 cancel step
2018/03/29 20:53:18.240 [D] already send msg, key: ts_queue_0
2018/03/29 20:53:18.240 [I] message at offset 309: ts_queue_0 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":1,"exec_time":0,"ID":0,"step":2,"error_msg":""}

2018/03/29 20:53:18.244 [E] sql: no rows in result set
2018/03/29 20:53:18.244 [I] message at offset 310: ts_queue_111 = {"ID":111,"exec_time":1522327992}

2018/03/29 20:53:18.246 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:53:18.246 [I] 执行 try,ID: 0
2018/03/29 20:53:18.247 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.247 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.247 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:53:18.247 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:53:18.247 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.247 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 200 {"message": "try"}
2018/03/29 20:53:18.247 [I] try 操作完成,ID: 0  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0}]
2018/03/29 20:53:18.247 [D] try 操作成功, ID: 0 1
2018/03/29 20:53:18.247 [D] 持久化状态,ID: 0
2018/03/29 20:53:18.251 [D] 更新数据库信息,ID: 0
2018/03/29 20:53:18.251 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 20:53:18.251 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.251 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:53:18.251 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.251 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 20:53:18.252 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.252 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:53:18.252 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 0 1 }
2018/03/29 20:53:18.252 [I] 执行中断操作操作,ID: 0
2018/03/29 20:53:18.252 [D] 持久化状态,ID: 0
2018/03/29 20:53:18.254 [D] 更新数据库信息,ID: 0
2018/03/29 20:53:18.254 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":0,"step":2,"error_msg":""}
2018/03/29 20:53:18.255 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.255 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.255 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:53:18.255 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:53:18.255 [D] 执行重回队列的操作 cancel step
2018/03/29 20:53:18.260 [D] already send msg, key: ts_queue_0
2018/03/29 20:53:27.314 [I] message at offset 311: ts_queue_0 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":1,"exec_time":0,"ID":0,"step":2,"error_msg":""}

2018/03/29 20:53:27.316 [E] sql: no rows in result set
2018/03/29 20:53:27.316 [I] message at offset 312: ts_queue_0 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":1,"exec_time":0,"ID":0,"step":2,"error_msg":""}

2018/03/29 20:53:27.318 [E] sql: no rows in result set
2018/03/29 20:55:07.916 [D] mq reader is starting
2018/03/29 20:55:15.287 [E] 当前发送消息为:  {"ID":112,"exec_time":1522328115}
2018/03/29 20:55:15.294 [D] already send msg, key: ts_queue_112
2018/03/29 20:55:16.924 [I] message at offset 313: ts_queue_112 = {"ID":112,"exec_time":1522328115}

2018/03/29 20:55:16.926 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 0 0 }
2018/03/29 20:55:16.926 [I] 执行 try,ID: 0
2018/03/29 20:55:16.935 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:55:16.935 [I] http://localhost:8899/api/test :  delay: 8 ms 200 {"message": "try"}
2018/03/29 20:55:16.935 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:55:16.935 [I] http://localhost:8899/api/test_confirm_fault :  delay: 8 ms 200 {"message": "try"}
2018/03/29 20:55:16.936 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:55:16.936 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 9 ms 200 {"message": "try"}
2018/03/29 20:55:16.936 [I] try 操作完成,ID: 0  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0}]
2018/03/29 20:55:16.936 [D] try 操作成功, ID: 0 1
2018/03/29 20:55:16.936 [D] 持久化状态,ID: 0
2018/03/29 20:55:16.941 [D] 更新数据库信息,ID: 0
2018/03/29 20:55:16.941 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 20:55:16.942 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:55:16.942 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:55:16.942 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:55:16.942 [I] http://localhost:8899/api/test_confirm_fault :  delay: 1 ms 401 {"message": "try"}
2018/03/29 20:55:16.943 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:55:16.943 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 200 {"message": "try"}
2018/03/29 20:55:16.943 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 0 1 }
2018/03/29 20:55:16.943 [I] 执行中断操作操作,ID: 0
2018/03/29 20:55:16.943 [D] 持久化状态,ID: 0
2018/03/29 20:55:16.947 [D] 更新数据库信息,ID: 0
2018/03/29 20:55:16.948 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":0,"step":2,"error_msg":""}
2018/03/29 20:55:16.948 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:55:16.948 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:55:16.949 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:55:16.949 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:55:16.949 [D] 执行重回队列的操作 cancel step
2018/03/29 20:55:16.949 [E] 插入队列 ts_queue_0 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":1,"exec_time":0,"ID":0,"step":2,"error_msg":""}
2018/03/29 20:56:09.296 [D] mq reader is starting
2018/03/29 20:56:12.515 [E] 当前发送消息为:  {"ID":113,"exec_time":1522328172}
2018/03/29 20:56:12.522 [D] already send msg, key: ts_queue_113
2018/03/29 20:56:18.306 [I] message at offset 313: ts_queue_112 = {"ID":112,"exec_time":1522328115}

2018/03/29 20:56:18.308 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 112 0 }
2018/03/29 20:56:18.308 [I] 执行 try,ID: 112
2018/03/29 20:56:18.311 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.311 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.311 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.311 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 20:56:18.311 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 200 {"message": "try"}
2018/03/29 20:56:18.311 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 20:56:18.311 [I] try 操作完成,ID: 112  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0}]
2018/03/29 20:56:18.311 [D] try 操作成功, ID: 112 1
2018/03/29 20:56:18.311 [D] 持久化状态,ID: 112
2018/03/29 20:56:18.314 [D] 更新数据库信息,ID: 112
2018/03/29 20:56:18.314 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 20:56:18.315 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.315 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.315 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 20:56:18.315 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:56:18.315 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.315 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:56:18.315 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 112 1 }
2018/03/29 20:56:18.315 [I] 执行中断操作操作,ID: 112
2018/03/29 20:56:18.315 [D] 持久化状态,ID: 112
2018/03/29 20:56:18.317 [D] 更新数据库信息,ID: 112
2018/03/29 20:56:18.317 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":112,"step":2,"error_msg":""}
2018/03/29 20:56:18.317 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.317 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.317 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.317 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:56:18.317 [D] 执行重回队列的操作 cancel step
2018/03/29 20:56:18.317 [E] 插入队列 ts_queue_112 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":1,"exec_time":0,"ID":112,"step":2,"error_msg":""}
2018/03/29 20:56:18.317 [I] message at offset 314: ts_queue_113 = {"ID":113,"exec_time":1522328172}

2018/03/29 20:56:18.319 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 113 0 }
2018/03/29 20:56:18.319 [I] 执行 try,ID: 113
2018/03/29 20:56:18.320 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.320 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.320 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:56:18.320 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:56:18.320 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.320 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/29 20:56:18.320 [I] try 操作完成,ID: 113  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0}]
2018/03/29 20:56:18.320 [D] try 操作成功, ID: 113 1
2018/03/29 20:56:18.320 [D] 持久化状态,ID: 113
2018/03/29 20:56:18.322 [D] 更新数据库信息,ID: 113
2018/03/29 20:56:18.322 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 20:56:18.323 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.323 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 20:56:18.323 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.323 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:56:18.323 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.323 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:56:18.323 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 113 1 }
2018/03/29 20:56:18.323 [I] 执行中断操作操作,ID: 113
2018/03/29 20:56:18.323 [D] 持久化状态,ID: 113
2018/03/29 20:56:18.325 [D] 更新数据库信息,ID: 113
2018/03/29 20:56:18.325 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":113,"step":2,"error_msg":""}
2018/03/29 20:56:18.326 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.326 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.326 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:18.326 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:56:18.326 [D] 执行重回队列的操作 cancel step
2018/03/29 20:56:18.326 [E] 插入队列 ts_queue_113 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":1,"exec_time":0,"ID":113,"step":2,"error_msg":""}
2018/03/29 20:56:39.796 [D] mq reader is starting
2018/03/29 20:56:47.845 [E] 当前发送消息为:  {"ID":114,"exec_time":1522328207}
2018/03/29 20:56:47.851 [D] already send msg, key: ts_queue_114
2018/03/29 20:56:48.802 [I] message at offset 313: ts_queue_112 = {"ID":112,"exec_time":1522328115}

2018/03/29 20:56:48.804 [E] sql: no rows in result set
2018/03/29 20:56:48.804 [I] message at offset 314: ts_queue_113 = {"ID":113,"exec_time":1522328172}

2018/03/29 20:56:48.806 [E] sql: no rows in result set
2018/03/29 20:56:48.806 [I] message at offset 315: ts_queue_114 = {"ID":114,"exec_time":1522328207}

2018/03/29 20:56:48.807 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 114 0 }
2018/03/29 20:56:48.807 [I] 执行 try,ID: 114
2018/03/29 20:56:48.810 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:48.810 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:48.810 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 20:56:48.810 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 20:56:48.810 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:48.810 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 200 {"message": "try"}
2018/03/29 20:56:48.810 [I] try 操作完成,ID: 114  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0}]
2018/03/29 20:56:48.810 [D] try 操作成功, ID: 114 1
2018/03/29 20:56:48.810 [D] 持久化状态,ID: 114
2018/03/29 20:56:48.813 [D] 更新数据库信息,ID: 114
2018/03/29 20:56:48.813 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 20:56:48.814 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:48.814 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:56:48.814 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:48.814 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 20:56:48.814 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:48.814 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:56:48.814 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 114 1 }
2018/03/29 20:56:48.814 [I] 执行中断操作操作,ID: 114
2018/03/29 20:56:48.814 [D] 持久化状态,ID: 114
2018/03/29 20:56:48.816 [D] 更新数据库信息,ID: 114
2018/03/29 20:56:48.816 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":114,"step":2,"error_msg":""}
2018/03/29 20:56:48.817 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:48.817 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:48.817 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:56:48.817 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:56:48.817 [D] 执行重回队列的操作 cancel step
2018/03/29 20:56:48.817 [E] 插入队列 ts_queue_114 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":1,"exec_time":0,"ID":114,"step":2,"error_msg":""}
2018/03/29 20:56:48.830 [D] already send msg, key: ts_queue_114
2018/03/29 20:56:57.897 [I] message at offset 316: ts_queue_114 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":1,"exec_time":0,"ID":114,"step":2,"error_msg":""}

2018/03/29 20:56:57.900 [E] sql: no rows in result set
2018/03/29 20:58:31.116 [D] mq reader is starting
2018/03/29 20:58:33.800 [E] 当前发送消息为:  {"ID":115,"exec_time":1522328313}
2018/03/29 20:58:33.808 [D] already send msg, key: ts_queue_115
2018/03/29 20:59:13.647 [D] mq reader is starting
2018/03/29 20:59:18.677 [E] 当前发送消息为:  {"ID":116,"exec_time":1522328358}
2018/03/29 20:59:18.683 [D] already send msg, key: ts_queue_116
2018/03/29 20:59:22.656 [I] message at offset 318: ts_queue_116 = {"ID":116,"exec_time":1522328358}

2018/03/29 20:59:22.659 [E] 打印队列: {"ID":116,"exec_time":1522328358}
2018/03/29 20:59:22.659 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 116 0 }
2018/03/29 20:59:22.659 [I] 执行 try,ID: 116
2018/03/29 20:59:22.663 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:59:22.663 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:59:22.663 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/29 20:59:22.663 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/29 20:59:22.663 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:59:22.663 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 200 {"message": "try"}
2018/03/29 20:59:22.663 [I] try 操作完成,ID: 116  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0}]
2018/03/29 20:59:22.663 [D] try 操作成功, ID: 116 1
2018/03/29 20:59:22.663 [D] 持久化状态,ID: 116
2018/03/29 20:59:22.665 [D] 更新数据库信息,ID: 116
2018/03/29 20:59:22.665 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 20:59:22.665 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:59:22.665 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:59:22.665 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:59:22.665 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 20:59:22.665 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:59:22.665 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:59:22.665 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 116 1 }
2018/03/29 20:59:22.665 [I] 执行中断操作操作,ID: 116
2018/03/29 20:59:22.665 [D] 持久化状态,ID: 116
2018/03/29 20:59:22.668 [D] 更新数据库信息,ID: 116
2018/03/29 20:59:22.668 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":116,"step":2,"error_msg":""}
2018/03/29 20:59:22.668 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 20:59:22.668 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 20:59:22.668 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:59:22.668 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 20:59:22.668 [D] 执行重回队列的操作 cancel step
2018/03/29 20:59:22.668 [E] 插入队列 ts_queue_116 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":1,"exec_time":0,"ID":116,"step":2,"error_msg":""}
2018/03/29 20:59:22.675 [D] already send msg, key: ts_queue_116
2018/03/29 20:59:31.752 [I] message at offset 319: ts_queue_116 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":1,"exec_time":0,"ID":116,"step":2,"error_msg":""}

2018/03/29 20:59:31.753 [E] 打印队列: {"ID":116,"exec_time":0}
2018/03/29 20:59:31.753 [E] sql: no rows in result set
2018/03/29 21:02:01.239 [D] mq reader is starting
2018/03/29 21:02:05.301 [E] 当前发送消息为:  {"ID":117,"exec_time":1522328525}
2018/03/29 21:02:05.307 [D] already send msg, key: ts_queue_117
2018/03/29 21:02:10.244 [I] message at offset 318: ts_queue_116 = {"ID":116,"exec_time":1522328358}

2018/03/29 21:02:10.246 [E] 打印队列: {"ID":116,"exec_time":1522328358}
2018/03/29 21:02:10.246 [E] sql: no rows in result set
2018/03/29 21:02:10.246 [I] message at offset 319: ts_queue_116 = {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":1,"exec_time":0,"ID":116,"step":2,"error_msg":""}

2018/03/29 21:02:10.248 [E] 打印队列: {"ID":116,"exec_time":0}
2018/03/29 21:02:10.248 [E] sql: no rows in result set
2018/03/29 21:02:10.248 [I] message at offset 320: ts_queue_117 = {"ID":117,"exec_time":1522328525}

2018/03/29 21:02:10.251 [E] 打印队列: {"ID":117,"exec_time":1522328525}
2018/03/29 21:02:10.252 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 117 0 }
2018/03/29 21:02:10.252 [I] 执行 try,ID: 117
2018/03/29 21:02:10.254 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 21:02:10.254 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 21:02:10.254 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/29 21:02:10.254 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 200 {"message": "try"}
2018/03/29 21:02:10.255 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 21:02:10.255 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/29 21:02:10.255 [I] try 操作完成,ID: 117  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0}]
2018/03/29 21:02:10.255 [D] try 操作成功, ID: 117 1
2018/03/29 21:02:10.255 [D] 持久化状态,ID: 117
2018/03/29 21:02:10.258 [D] 更新数据库信息,ID: 117
2018/03/29 21:02:10.258 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/29 21:02:10.258 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 21:02:10.259 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 21:02:10.259 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 21:02:10.259 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/29 21:02:10.259 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 21:02:10.259 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/29 21:02:10.259 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 117 1 }
2018/03/29 21:02:10.259 [I] 执行中断操作操作,ID: 117
2018/03/29 21:02:10.259 [D] 持久化状态,ID: 117
2018/03/29 21:02:10.262 [D] 更新数据库信息,ID: 117
2018/03/29 21:02:10.262 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":117,"step":2,"error_msg":""}
2018/03/29 21:02:10.262 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 21:02:10.262 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/29 21:02:10.263 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/29 21:02:10.263 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/29 21:02:10.263 [D] 执行重回队列的操作 cancel step
2018/03/29 21:02:10.263 [E] 插入队列 ts_queue_117 {117 1522328530}
2018/03/29 21:02:10.274 [D] already send msg, key: ts_queue_117
2018/03/29 21:02:19.340 [I] message at offset 321: ts_queue_117 = {"ID":117,"exec_time":1522328530}

2018/03/29 21:02:19.343 [E] 打印队列: {"ID":117,"exec_time":1522328530}
2018/03/29 21:02:19.343 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 117 2 }
2018/03/30 10:41:57.247 [D] mq reader is starting
2018/03/30 10:42:03.956 [E] 当前发送消息为:  {"ID":118,"exec_time":1522377723}
2018/03/30 10:42:03.969 [D] already send msg, key: ts_queue_118
2018/03/30 10:42:06.264 [I] message at offset 322: ts_queue_118 = {"ID":118,"exec_time":1522377723}

2018/03/30 10:42:06.271 [E] 打印队列: {"ID":118,"exec_time":1522377723}
2018/03/30 10:42:06.271 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 118 0 }
2018/03/30 10:42:06.271 [I] 执行 try,ID: 118
2018/03/30 10:42:06.273 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:42:06.273 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:42:06.273 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 10:42:06.273 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 200 {"message": "try"}
2018/03/30 10:42:06.273 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:42:06.273 [I] http://localhost:8899/api/test_confirm_fault :  delay: 1 ms 200 {"message": "try"}
2018/03/30 10:42:06.273 [I] try 操作完成,ID: 118  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0}]
2018/03/30 10:42:06.273 [D] try 操作成功, ID: 118 1
2018/03/30 10:42:06.273 [D] 持久化状态,ID: 118
2018/03/30 10:42:06.280 [D] 更新数据库信息,ID: 118
2018/03/30 10:42:06.280 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/30 10:42:06.280 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:42:06.280 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/30 10:42:06.280 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 10:42:06.280 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/30 10:42:06.281 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:42:06.281 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 10:42:06.281 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 118 1 }
2018/03/30 10:42:06.281 [I] 执行中断操作操作,ID: 118
2018/03/30 10:42:06.281 [D] 持久化状态,ID: 118
2018/03/30 10:42:06.283 [D] 更新数据库信息,ID: 118
2018/03/30 10:42:06.283 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":118,"step":2,"error_msg":""}
2018/03/30 10:42:06.284 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:42:06.284 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 10:42:06.284 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 10:42:06.284 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 10:42:06.284 [D] 执行重回队列的操作 cancel step
2018/03/30 10:42:06.284 [E] 插入队列 ts_queue_118 {118 1522377726}
2018/03/30 10:42:06.290 [D] already send msg, key: ts_queue_118
2018/03/30 10:42:15.362 [I] message at offset 323: ts_queue_118 = {"ID":118,"exec_time":1522377726}

2018/03/30 10:42:15.365 [E] 打印队列: {"ID":118,"exec_time":1522377726}
2018/03/30 10:42:15.365 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 118 2 }
2018/03/30 10:44:12.374 [D] mq reader is starting
2018/03/30 10:44:14.940 [E] 当前发送消息为:  {"ID":119,"exec_time":1522377854}
2018/03/30 10:44:14.946 [D] already send msg, key: ts_queue_119
2018/03/30 10:44:21.390 [I] message at offset 324: ts_queue_119 = {"ID":119,"exec_time":1522377854}

2018/03/30 10:44:21.393 [E] 打印队列: {"ID":119,"exec_time":1522377854}
2018/03/30 10:44:21.393 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 119 0 }
2018/03/30 10:44:21.393 [I] 执行 try,ID: 119
2018/03/30 10:44:21.399 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:44:21.399 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:44:21.399 [I] http://localhost:8899/api/test_confirm_fault :  delay: 5 ms 200 {"message": "try"}
2018/03/30 10:44:21.399 [I] http://localhost:8899/api/test :  delay: 5 ms 200 {"message": "try"}
2018/03/30 10:44:21.399 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:44:21.399 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 4 ms 200 {"message": "try"}
2018/03/30 10:44:21.399 [I] try 操作完成,ID: 119  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0}]
2018/03/30 10:44:21.399 [D] try 操作成功, ID: 119 1
2018/03/30 10:44:21.399 [D] 持久化状态,ID: 119
2018/03/30 10:44:21.402 [D] 更新数据库信息,ID: 119
2018/03/30 10:44:21.402 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/30 10:44:21.403 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 10:44:21.403 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/30 10:44:21.403 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:44:21.403 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 10:44:21.403 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:44:21.403 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/30 10:44:21.403 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 119 1 }
2018/03/30 10:44:21.403 [I] 执行中断操作操作,ID: 119
2018/03/30 10:44:21.403 [D] 持久化状态,ID: 119
2018/03/30 10:44:21.405 [D] 更新数据库信息,ID: 119
2018/03/30 10:44:21.405 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":119,"step":2,"error_msg":""}
2018/03/30 10:44:21.406 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:44:21.406 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 10:44:21.406 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 10:44:21.406 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 10:44:21.406 [D] 执行重回队列的操作 cancel step
2018/03/30 10:44:21.406 [E] 插入队列 ts_queue_119 {119 1522377861}
2018/03/30 10:44:21.415 [D] already send msg, key: ts_queue_119
2018/03/30 10:44:30.490 [I] message at offset 325: ts_queue_119 = {"ID":119,"exec_time":1522377861}

2018/03/30 10:44:30.492 [E] 打印队列: {"ID":119,"exec_time":1522377861}
2018/03/30 10:44:30.492 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 119 2 }
2018/03/30 10:46:11.320 [D] mq reader is starting
2018/03/30 10:46:13.857 [E] 当前发送消息为:  {"ID":120,"exec_time":1522377973}
2018/03/30 10:46:13.864 [D] already send msg, key: ts_queue_120
2018/03/30 10:46:20.339 [I] message at offset 324: ts_queue_119 = {"ID":119,"exec_time":1522377854}

2018/03/30 10:46:20.339 [I] message at offset 325: ts_queue_119 = {"ID":119,"exec_time":1522377861}

2018/03/30 10:46:20.339 [I] message at offset 326: ts_queue_120 = {"ID":120,"exec_time":1522377973}

2018/03/30 10:46:20.341 [E] 打印队列: {"ID":119,"exec_time":1522377854}
2018/03/30 10:46:20.341 [E] sql: no rows in result set
2018/03/30 10:46:20.341 [E] 打印队列: {"ID":120,"exec_time":1522377973}
2018/03/30 10:46:20.341 [E] 打印队列: {"ID":119,"exec_time":1522377861}
2018/03/30 10:46:20.341 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 119 2 }
2018/03/30 10:46:20.341 [D] 需要执行 cancel 任务
2018/03/30 10:46:20.341 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 120 0 }
2018/03/30 10:46:20.341 [I] 执行 try,ID: 120
2018/03/30 10:46:20.344 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:46:20.344 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:46:20.344 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:46:20.344 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/30 10:46:20.344 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 200 {"message": "try"}
2018/03/30 10:46:20.344 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/30 10:46:20.344 [I] try 操作完成,ID: 120  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0}]
2018/03/30 10:46:20.344 [D] try 操作成功, ID: 120 1
2018/03/30 10:46:20.344 [D] 持久化状态,ID: 120
2018/03/30 10:46:20.347 [D] 更新数据库信息,ID: 120
2018/03/30 10:46:20.347 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/30 10:46:20.347 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:46:20.347 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/30 10:46:20.347 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 10:46:20.347 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/30 10:46:20.348 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:46:20.348 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 10:46:20.348 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 120 1 }
2018/03/30 10:46:20.348 [I] 执行中断操作操作,ID: 120
2018/03/30 10:46:20.348 [D] 持久化状态,ID: 120
2018/03/30 10:46:20.350 [D] 更新数据库信息,ID: 120
2018/03/30 10:46:20.350 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":120,"step":2,"error_msg":""}
2018/03/30 10:46:20.351 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 10:46:20.351 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 10:46:20.351 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 10:46:20.351 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 10:46:20.351 [D] 执行重回队列的操作 cancel step
2018/03/30 10:46:20.351 [E] 插入队列 ts_queue_120 {120 1522377980}
2018/03/30 10:46:20.357 [D] already send msg, key: ts_queue_120
2018/03/30 10:46:29.437 [I] message at offset 327: ts_queue_120 = {"ID":120,"exec_time":1522377980}

2018/03/30 10:46:29.440 [E] 打印队列: {"ID":120,"exec_time":1522377980}
2018/03/30 10:46:29.440 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 120 2 }
2018/03/30 10:46:29.440 [D] 需要执行 cancel 任务
2018/03/30 10:46:57.682 [D] mq reader is starting
2018/03/30 10:47:06.693 [I] message at offset 324: ts_queue_119 = {"ID":119,"exec_time":1522377854}

2018/03/30 10:47:06.693 [I] message at offset 325: ts_queue_119 = {"ID":119,"exec_time":1522377861}

2018/03/30 10:47:06.693 [I] message at offset 326: ts_queue_120 = {"ID":120,"exec_time":1522377973}

2018/03/30 10:47:06.693 [I] message at offset 327: ts_queue_120 = {"ID":120,"exec_time":1522377980}

2018/03/30 10:47:06.697 [E] 打印队列: {"ID":119,"exec_time":1522377854}
2018/03/30 10:47:06.697 [E] sql: no rows in result set
2018/03/30 10:47:06.698 [E] 打印队列: {"ID":120,"exec_time":1522377980}
2018/03/30 10:47:06.698 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 120 2 }
2018/03/30 10:47:06.698 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":120,"step":2,"error_msg":""}
2018/03/30 10:47:06.698 [E] 打印队列: {"ID":119,"exec_time":1522377861}
2018/03/30 10:47:06.698 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 119 2 }
2018/03/30 10:47:06.698 [E] 打印队列: {"ID":120,"exec_time":1522377973}
2018/03/30 10:47:06.698 [E] sql: no rows in result set
2018/03/30 10:47:06.699 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":119,"step":2,"error_msg":""}
2018/03/30 11:00:56.788 [D] mq reader is starting
2018/03/30 11:01:03.739 [E] 当前发送消息为:  {"ID":121,"exec_time":1522378863}
2018/03/30 11:01:03.745 [D] already send msg, key: ts_queue_121
2018/03/30 11:01:05.798 [I] message at offset 328: ts_queue_121 = {"ID":121,"exec_time":1522378863}

2018/03/30 11:01:05.802 [E] 打印队列: {"ID":121,"exec_time":1522378863}
2018/03/30 11:01:05.802 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 121 0 }
2018/03/30 11:01:05.802 [I] 执行 try,ID: 121
2018/03/30 11:01:05.806 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:05.806 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:05.806 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/30 11:01:05.806 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 3 ms 200 {"message": "try"}
2018/03/30 11:01:05.806 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:05.806 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/30 11:01:05.806 [I] try 操作完成,ID: 121  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0}]
2018/03/30 11:01:05.806 [D] try 操作成功, ID: 121 1
2018/03/30 11:01:05.806 [D] 持久化状态,ID: 121
2018/03/30 11:01:05.809 [D] 更新数据库信息,ID: 121
2018/03/30 11:01:05.809 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/30 11:01:05.810 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:05.810 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:01:05.810 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:05.810 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:05.810 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/30 11:01:05.810 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:01:05.810 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 121 1 }
2018/03/30 11:01:05.810 [I] 执行中断操作操作,ID: 121
2018/03/30 11:01:05.810 [D] 持久化状态,ID: 121
2018/03/30 11:01:05.812 [D] 更新数据库信息,ID: 121
2018/03/30 11:01:05.813 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:01:05.813 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:05.813 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:01:05.813 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:05.813 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:05.813 [D] 执行重回队列的操作 cancel step
2018/03/30 11:01:05.813 [E] 插入队列 ts_queue_121 {121 1522378865}
2018/03/30 11:01:05.821 [D] already send msg, key: ts_queue_121
2018/03/30 11:01:14.898 [I] message at offset 329: ts_queue_121 = {"ID":121,"exec_time":1522378865}

2018/03/30 11:01:14.902 [E] 打印队列: {"ID":121,"exec_time":1522378865}
2018/03/30 11:01:14.902 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 121 2 }
2018/03/30 11:01:14.902 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:01:14.902 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:01:14.903 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:14.903 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:01:14.903 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:14.903 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:14.903 [D] 执行重回队列的操作 cancel step
2018/03/30 11:01:14.904 [E] 插入队列 ts_queue_121 {121 1522378874}
2018/03/30 11:01:14.909 [D] already send msg, key: ts_queue_121
2018/03/30 11:01:23.998 [I] message at offset 330: ts_queue_121 = {"ID":121,"exec_time":1522378874}

2018/03/30 11:01:24.000 [E] 打印队列: {"ID":121,"exec_time":1522378874}
2018/03/30 11:01:24.000 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 121 2 }
2018/03/30 11:01:24.001 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:01:24.001 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:01:24.002 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:24.002 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:01:24.002 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:24.002 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:24.002 [D] 执行重回队列的操作 cancel step
2018/03/30 11:01:24.002 [E] 插入队列 ts_queue_121 {121 1522378884}
2018/03/30 11:01:24.010 [D] already send msg, key: ts_queue_121
2018/03/30 11:01:33.095 [I] message at offset 331: ts_queue_121 = {"ID":121,"exec_time":1522378884}

2018/03/30 11:01:33.098 [E] 打印队列: {"ID":121,"exec_time":1522378884}
2018/03/30 11:01:33.099 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 121 2 }
2018/03/30 11:01:33.099 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:01:33.099 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:01:33.101 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:33.101 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:33.101 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:33.101 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:01:33.101 [D] 执行重回队列的操作 cancel step
2018/03/30 11:01:33.101 [E] 插入队列 ts_queue_121 {121 1522378893}
2018/03/30 11:01:33.108 [D] already send msg, key: ts_queue_121
2018/03/30 11:01:42.198 [I] message at offset 332: ts_queue_121 = {"ID":121,"exec_time":1522378893}

2018/03/30 11:01:42.200 [E] 打印队列: {"ID":121,"exec_time":1522378893}
2018/03/30 11:01:42.200 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 121 2 }
2018/03/30 11:01:42.200 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:01:42.200 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:01:42.201 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:42.201 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:42.201 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:42.201 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:01:42.201 [D] 执行重回队列的操作 cancel step
2018/03/30 11:01:42.201 [E] 插入队列 ts_queue_121 {121 1522378902}
2018/03/30 11:01:42.210 [D] already send msg, key: ts_queue_121
2018/03/30 11:01:51.295 [I] message at offset 333: ts_queue_121 = {"ID":121,"exec_time":1522378902}

2018/03/30 11:01:51.298 [E] 打印队列: {"ID":121,"exec_time":1522378902}
2018/03/30 11:01:51.298 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 121 2 }
2018/03/30 11:01:51.298 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:01:51.298 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:01:51.300 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:51.300 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:01:51.302 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:51.302 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:01:51.302 [D] 执行重回队列的操作 cancel step
2018/03/30 11:01:51.302 [E] 插入队列 ts_queue_121 {121 1522378911}
2018/03/30 11:01:51.311 [D] already send msg, key: ts_queue_121
2018/03/30 11:02:00.393 [I] message at offset 334: ts_queue_121 = {"ID":121,"exec_time":1522378911}

2018/03/30 11:02:00.395 [E] 打印队列: {"ID":121,"exec_time":1522378911}
2018/03/30 11:02:00.396 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 121 2 }
2018/03/30 11:02:00.396 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:02:00.396 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:02:00.397 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:02:00.397 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:02:00.397 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:02:00.397 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:02:00.397 [D] 执行重回队列的操作 cancel step
2018/03/30 11:02:00.397 [E] 插入队列 ts_queue_121 {121 1522378920}
2018/03/30 11:02:00.406 [D] already send msg, key: ts_queue_121
2018/03/30 11:02:09.490 [I] message at offset 335: ts_queue_121 = {"ID":121,"exec_time":1522378920}

2018/03/30 11:02:09.492 [E] 打印队列: {"ID":121,"exec_time":1522378920}
2018/03/30 11:02:09.492 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 121 2 }
2018/03/30 11:02:09.492 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:02:09.492 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:02:09.494 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:02:09.494 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:02:09.494 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:02:09.494 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:02:09.494 [D] 执行重回队列的操作 cancel step
2018/03/30 11:02:09.494 [E] 插入队列 ts_queue_121 {121 1522378929}
2018/03/30 11:02:09.506 [D] already send msg, key: ts_queue_121
2018/03/30 11:02:18.592 [I] message at offset 336: ts_queue_121 = {"ID":121,"exec_time":1522378929}

2018/03/30 11:02:18.594 [E] 打印队列: {"ID":121,"exec_time":1522378929}
2018/03/30 11:02:18.594 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 121 2 }
2018/03/30 11:02:18.594 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:02:18.594 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":2,"exec_time":0,"ID":121,"step":2,"error_msg":""}
2018/03/30 11:02:18.595 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:02:18.595 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:02:18.595 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:02:18.595 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:02:18.595 [D] 执行重回队列的操作 cancel step
2018/03/30 11:02:18.595 [E] 插入队列 ts_queue_121 {121 1522378938}
2018/03/30 11:02:18.609 [D] already send msg, key: ts_queue_121
2018/03/30 11:04:54.539 [D] mq reader is starting
2018/03/30 11:04:58.213 [E] 当前发送消息为:  {"ID":122,"exec_time":1522379098}
2018/03/30 11:04:58.221 [D] already send msg, key: ts_queue_122
2018/03/30 11:05:03.559 [I] message at offset 338: ts_queue_122 = {"ID":122,"exec_time":1522379098}

2018/03/30 11:05:03.562 [E] 打印队列: {"ID":122,"exec_time":1522379098}
2018/03/30 11:05:03.562 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 122 0 }
2018/03/30 11:05:03.562 [I] 执行 try,ID: 122
2018/03/30 11:05:03.567 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:03.567 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:03.567 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 4 ms 200 {"message": "try"}
2018/03/30 11:05:03.567 [I] http://localhost:8899/api/test_confirm_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/30 11:05:03.567 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:03.567 [I] http://localhost:8899/api/test :  delay: 5 ms 200 {"message": "try"}
2018/03/30 11:05:03.567 [I] try 操作完成,ID: 122  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0}]
2018/03/30 11:05:03.567 [D] try 操作成功, ID: 122 1
2018/03/30 11:05:03.567 [D] 持久化状态,ID: 122
2018/03/30 11:05:03.571 [D] 更新数据库信息,ID: 122
2018/03/30 11:05:03.571 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/30 11:05:03.572 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:03.572 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:05:03.572 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:03.572 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/30 11:05:03.572 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:03.573 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:05:03.573 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 122 1 }
2018/03/30 11:05:03.573 [I] 执行中断操作操作,ID: 122
2018/03/30 11:05:03.573 [D] 持久化状态,ID: 122
2018/03/30 11:05:03.575 [D] 更新数据库信息,ID: 122
2018/03/30 11:05:03.575 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":122,"step":2,"error_msg":""}
2018/03/30 11:05:03.575 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:03.575 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:03.575 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:03.575 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:05:03.575 [D] 持久化状态,ID: 122
2018/03/30 11:05:03.577 [D] 更新数据库信息,ID: 122
2018/03/30 11:05:03.577 [D] 执行重回队列的操作 cancel step
2018/03/30 11:05:03.577 [E] 插入队列 ts_queue_122 {122 1522379103}
2018/03/30 11:05:03.584 [D] already send msg, key: ts_queue_122
2018/03/30 11:05:12.659 [I] message at offset 339: ts_queue_122 = {"ID":122,"exec_time":1522379103}

2018/03/30 11:05:12.662 [E] 打印队列: {"ID":122,"exec_time":1522379103}
2018/03/30 11:05:12.662 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 1 0 122 2 }
2018/03/30 11:05:12.662 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":2,"exec_time":0,"ID":122,"step":2,"error_msg":""}
2018/03/30 11:05:12.663 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":2,"exec_time":0,"ID":122,"step":2,"error_msg":""}
2018/03/30 11:05:12.664 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:12.664 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:12.665 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:12.665 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:05:12.665 [D] 持久化状态,ID: 122
2018/03/30 11:05:12.668 [D] 更新数据库信息,ID: 122
2018/03/30 11:05:12.668 [D] 执行重回队列的操作 cancel step
2018/03/30 11:05:12.668 [E] 插入队列 ts_queue_122 {122 1522379112}
2018/03/30 11:05:12.677 [D] already send msg, key: ts_queue_122
2018/03/30 11:05:21.757 [I] message at offset 340: ts_queue_122 = {"ID":122,"exec_time":1522379112}

2018/03/30 11:05:21.760 [E] 打印队列: {"ID":122,"exec_time":1522379112}
2018/03/30 11:05:21.760 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 2 0 122 2 }
2018/03/30 11:05:21.760 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":3,"exec_time":0,"ID":122,"step":2,"error_msg":""}
2018/03/30 11:05:21.760 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":3,"exec_time":0,"ID":122,"step":2,"error_msg":""}
2018/03/30 11:05:21.761 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:21.761 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:21.761 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:05:21.761 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:05:21.761 [D] 持久化状态,ID: 122
2018/03/30 11:05:21.764 [D] 更新数据库信息,ID: 122
2018/03/30 11:05:21.764 [D] 执行重回队列的操作 cancel step
2018/03/30 11:05:21.764 [E] 插入队列 ts_queue_122 {122 1522379121}
2018/03/30 11:05:21.771 [D] already send msg, key: ts_queue_122
2018/03/30 11:05:30.855 [I] message at offset 341: ts_queue_122 = {"ID":122,"exec_time":1522379121}

2018/03/30 11:05:30.857 [E] 打印队列: {"ID":122,"exec_time":1522379121}
2018/03/30 11:05:30.857 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 3 0 122 2 }
2018/03/30 11:06:54.239 [D] mq reader is starting
2018/03/30 11:07:03.250 [I] message at offset 338: ts_queue_122 = {"ID":122,"exec_time":1522379098}

2018/03/30 11:07:03.250 [I] message at offset 339: ts_queue_122 = {"ID":122,"exec_time":1522379103}

2018/03/30 11:07:03.250 [I] message at offset 340: ts_queue_122 = {"ID":122,"exec_time":1522379112}

2018/03/30 11:07:03.250 [I] message at offset 341: ts_queue_122 = {"ID":122,"exec_time":1522379121}

2018/03/30 11:07:03.254 [E] 打印队列: {"ID":122,"exec_time":1522379098}
2018/03/30 11:07:03.254 [E] sql: no rows in result set
2018/03/30 11:07:03.254 [E] 打印队列: {"ID":122,"exec_time":1522379121}
2018/03/30 11:07:03.254 [E] 打印队列: {"ID":122,"exec_time":1522379112}
2018/03/30 11:07:03.254 [E] sql: no rows in result set
2018/03/30 11:07:03.254 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 3 0 122 2 }
2018/03/30 11:07:03.254 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":4,"exec_time":0,"ID":122,"step":2,"error_msg":""}
2018/03/30 11:07:03.254 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":4,"exec_time":0,"ID":122,"step":2,"error_msg":""}
2018/03/30 11:07:03.256 [E] 打印队列: {"ID":122,"exec_time":1522379103}
2018/03/30 11:07:03.256 [E] sql: no rows in result set
2018/03/30 11:07:03.258 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:07:03.258 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:07:03.258 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 3 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:07:03.258 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/03/30 11:07:03.258 [D] 持久化状态,ID: 122
2018/03/30 11:07:03.262 [D] 更新数据库信息,ID: 122
2018/03/30 11:07:03.262 [D] 执行重回队列的操作 cancel step
2018/03/30 11:07:03.262 [E] 插入队列 ts_queue_122 {122 1522379223}
2018/03/30 11:07:03.268 [D] already send msg, key: ts_queue_122
2018/03/30 11:07:12.347 [I] message at offset 342: ts_queue_122 = {"ID":122,"exec_time":1522379223}

2018/03/30 11:07:12.349 [E] 打印队列: {"ID":122,"exec_time":1522379223}
2018/03/30 11:07:12.349 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 4 0 122 2 }
2018/03/30 11:07:21.220 [D] mq reader is starting
2018/03/30 11:07:24.456 [E] 当前发送消息为:  {"ID":123,"exec_time":1522379244}
2018/03/30 11:07:24.462 [D] already send msg, key: ts_queue_123
2018/03/30 11:07:30.232 [I] message at offset 338: ts_queue_122 = {"ID":122,"exec_time":1522379098}

2018/03/30 11:07:30.233 [I] message at offset 339: ts_queue_122 = {"ID":122,"exec_time":1522379103}

2018/03/30 11:07:30.233 [I] message at offset 340: ts_queue_122 = {"ID":122,"exec_time":1522379112}

2018/03/30 11:07:30.233 [I] message at offset 341: ts_queue_122 = {"ID":122,"exec_time":1522379121}

2018/03/30 11:07:30.233 [I] message at offset 342: ts_queue_122 = {"ID":122,"exec_time":1522379223}

2018/03/30 11:07:30.233 [I] message at offset 343: ts_queue_123 = {"ID":123,"exec_time":1522379244}

2018/03/30 11:07:30.238 [E] 打印队列: {"ID":123,"exec_time":1522379244}
2018/03/30 11:07:30.238 [E] 打印队列: {"ID":122,"exec_time":1522379098}
2018/03/30 11:07:30.238 [E] sql: no rows in result set
2018/03/30 11:07:30.238 [E] 打印队列: {"ID":122,"exec_time":1522379112}
2018/03/30 11:07:30.238 [E] sql: no rows in result set
2018/03/30 11:07:30.238 [E] 打印队列: {"ID":122,"exec_time":1522379103}
2018/03/30 11:07:30.238 [E] sql: no rows in result set
2018/03/30 11:07:30.238 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 123 0 }
2018/03/30 11:07:30.238 [I] 执行 try,ID: 123
2018/03/30 11:07:30.238 [E] 打印队列: {"ID":122,"exec_time":1522379223}
2018/03/30 11:07:30.238 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 4 0 122 2 }
2018/03/30 11:07:30.238 [E] 打印队列: {"ID":122,"exec_time":1522379121}
2018/03/30 11:07:30.238 [E] sql: no rows in result set
2018/03/30 11:07:30.241 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:07:30.241 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/30 11:07:30.241 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:07:30.241 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 200 {"message": "try"}
2018/03/30 11:07:30.241 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:07:30.241 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/30 11:07:30.241 [I] try 操作完成,ID: 123  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0}]
2018/03/30 11:07:30.241 [D] try 操作成功, ID: 123 1
2018/03/30 11:07:30.241 [D] 持久化状态,ID: 123
2018/03/30 11:07:30.244 [D] 更新数据库信息,ID: 123
2018/03/30 11:07:30.244 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/30 11:07:30.245 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:07:30.245 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:07:30.245 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:07:30.245 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/30 11:07:30.245 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:07:30.245 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:07:30.245 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 123 1 }
2018/03/30 11:07:30.245 [I] 执行中断操作操作,ID: 123
2018/03/30 11:07:30.245 [D] 持久化状态,ID: 123
2018/03/30 11:07:30.247 [D] 更新数据库信息,ID: 123
2018/03/30 11:07:30.247 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":123,"step":2,"error_msg":""}
2018/03/30 11:07:30.248 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:07:30.248 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:07:30.248 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:07:30.248 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:07:30.248 [D] 持久化状态,ID: 123
2018/03/30 11:07:30.250 [D] 更新数据库信息,ID: 123
2018/03/30 11:07:30.250 [D] 执行重回队列的操作 cancel step
2018/03/30 11:07:30.250 [E] 插入队列 ts_queue_123 {123 1522379250}
2018/03/30 11:07:30.261 [D] already send msg, key: ts_queue_123
2018/03/30 11:08:38.634 [E] 当前发送消息为:  {"ID":124,"exec_time":1522379318}
2018/03/30 11:08:38.641 [D] already send msg, key: ts_queue_124
2018/03/30 11:09:32.156 [D] mq reader is starting
2018/03/30 11:09:41.166 [I] message at offset 345: ts_queue_124 = {"ID":124,"exec_time":1522379318}

2018/03/30 11:09:41.170 [E] 打印队列: {"ID":124,"exec_time":1522379318}
2018/03/30 11:09:41.170 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 124 0 }
2018/03/30 11:09:41.170 [I] 执行 try,ID: 124
2018/03/30 11:09:41.173 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:09:41.173 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:09:41.173 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 200 {"message": "try"}
2018/03/30 11:09:41.173 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/30 11:09:41.173 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:09:41.173 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/30 11:09:41.173 [I] try 操作完成,ID: 124  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0}]
2018/03/30 11:09:41.173 [D] try 操作成功, ID: 124 1
2018/03/30 11:09:41.173 [D] 持久化状态,ID: 124
2018/03/30 11:09:41.175 [D] 更新数据库信息,ID: 124
2018/03/30 11:09:41.175 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/30 11:09:41.176 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:09:41.176 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:09:41.176 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:09:41.176 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:09:41.176 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:09:41.176 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/30 11:09:41.176 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 124 1 }
2018/03/30 11:09:41.176 [I] 执行中断操作操作,ID: 124
2018/03/30 11:09:41.176 [D] 持久化状态,ID: 124
2018/03/30 11:09:41.178 [D] 更新数据库信息,ID: 124
2018/03/30 11:09:41.178 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":124,"step":2,"error_msg":""}
2018/03/30 11:09:41.179 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:09:41.179 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:09:41.179 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:09:41.179 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:09:41.179 [D] 持久化状态,ID: 124
2018/03/30 11:09:41.181 [D] 更新数据库信息,ID: 124
2018/03/30 11:09:41.181 [D] 执行重回队列的操作 cancel step
2018/03/30 11:09:41.181 [E] 插入队列 ts_queue_124 {124 1522379381}
2018/03/30 11:09:41.190 [D] already send msg, key: ts_queue_124
2018/03/30 11:09:50.268 [I] message at offset 346: ts_queue_124 = {"ID":124,"exec_time":1522379381}

2018/03/30 11:09:50.270 [E] 打印队列: {"ID":124,"exec_time":1522379381}
2018/03/30 11:09:50.270 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 1 0 124 2 }
2018/03/30 11:09:50.270 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":2,"exec_time":0,"ID":124,"step":2,"error_msg":""}
2018/03/30 11:09:50.270 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":2,"exec_time":0,"ID":124,"step":2,"error_msg":""}
2018/03/30 11:09:50.271 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:09:50.271 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:09:50.271 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:09:50.271 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:09:50.271 [D] 持久化状态,ID: 124
2018/03/30 11:09:50.275 [D] 更新数据库信息,ID: 124
2018/03/30 11:09:50.275 [D] 执行重回队列的操作 cancel step
2018/03/30 11:09:50.275 [E] 插入队列 ts_queue_124 {124 1522379390}
2018/03/30 11:09:50.284 [D] already send msg, key: ts_queue_124
2018/03/30 11:10:00.675 [D] mq reader is starting
2018/03/30 11:10:07.023 [E] 当前发送消息为:  {"ID":125,"exec_time":1522379407}
2018/03/30 11:10:07.028 [D] already send msg, key: ts_queue_125
2018/03/30 11:10:09.688 [I] message at offset 345: ts_queue_124 = {"ID":124,"exec_time":1522379318}

2018/03/30 11:10:09.688 [I] message at offset 346: ts_queue_124 = {"ID":124,"exec_time":1522379381}

2018/03/30 11:10:09.688 [I] message at offset 347: ts_queue_124 = {"ID":124,"exec_time":1522379390}

2018/03/30 11:10:09.688 [I] message at offset 348: ts_queue_125 = {"ID":125,"exec_time":1522379407}

2018/03/30 11:10:09.691 [E] 打印队列: {"ID":124,"exec_time":1522379318}
2018/03/30 11:10:09.691 [E] sql: no rows in result set
2018/03/30 11:10:09.691 [E] 打印队列: {"ID":124,"exec_time":1522379381}
2018/03/30 11:10:09.691 [E] sql: no rows in result set
2018/03/30 11:10:09.691 [E] 打印队列: {"ID":125,"exec_time":1522379407}
2018/03/30 11:10:09.691 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 125 0 }
2018/03/30 11:10:09.691 [E] 打印队列: {"ID":124,"exec_time":1522379390}
2018/03/30 11:10:09.691 [I] 执行 try,ID: 125
2018/03/30 11:10:09.691 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 2 0 124 2 }
2018/03/30 11:10:09.691 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":3,"exec_time":0,"ID":124,"step":2,"error_msg":""}
2018/03/30 11:10:09.691 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":3,"exec_time":0,"ID":124,"step":2,"error_msg":""}
2018/03/30 11:10:09.694 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:09.694 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:09.694 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:09.694 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/30 11:10:09.694 [D] 持久化状态,ID: 124
2018/03/30 11:10:09.694 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:09.694 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 200 {"message": "try"}
2018/03/30 11:10:09.694 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:09.694 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/30 11:10:09.694 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:09.694 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/30 11:10:09.694 [I] try 操作完成,ID: 125  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0}]
2018/03/30 11:10:09.694 [D] try 操作成功, ID: 125 1
2018/03/30 11:10:09.694 [D] 持久化状态,ID: 125
2018/03/30 11:10:09.698 [D] 更新数据库信息,ID: 125
2018/03/30 11:10:09.698 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/30 11:10:09.698 [D] 更新数据库信息,ID: 124
2018/03/30 11:10:09.698 [D] 执行重回队列的操作 cancel step
2018/03/30 11:10:09.698 [E] 插入队列 ts_queue_124_3 {124 1522379409}
2018/03/30 11:10:09.698 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:09.698 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:10:09.698 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:09.698 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/30 11:10:09.699 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:09.699 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:10:09.699 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 125 1 }
2018/03/30 11:10:09.699 [I] 执行中断操作操作,ID: 125
2018/03/30 11:10:09.699 [D] 持久化状态,ID: 125
2018/03/30 11:10:09.701 [D] 更新数据库信息,ID: 125
2018/03/30 11:10:09.701 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":125,"step":2,"error_msg":""}
2018/03/30 11:10:09.702 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:09.702 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:09.702 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:09.702 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:10:09.702 [D] 持久化状态,ID: 125
2018/03/30 11:10:09.703 [D] 更新数据库信息,ID: 125
2018/03/30 11:10:09.703 [D] 执行重回队列的操作 cancel step
2018/03/30 11:10:09.703 [E] 插入队列 ts_queue_125_1 {125 1522379409}
2018/03/30 11:10:09.707 [D] already send msg, key: ts_queue_124_3
2018/03/30 11:10:09.714 [D] already send msg, key: ts_queue_125_1
2018/03/30 11:10:18.788 [I] message at offset 349: ts_queue_124_3 = {"ID":124,"exec_time":1522379409}

2018/03/30 11:10:18.788 [I] message at offset 350: ts_queue_125_1 = {"ID":125,"exec_time":1522379409}

2018/03/30 11:10:18.791 [E] 打印队列: {"ID":124,"exec_time":1522379409}
2018/03/30 11:10:18.791 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 3 0 124 2 }
2018/03/30 11:10:18.791 [E] 打印队列: {"ID":125,"exec_time":1522379409}
2018/03/30 11:10:18.791 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 1 0 125 2 }
2018/03/30 11:10:18.791 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":2,"exec_time":0,"ID":125,"step":2,"error_msg":""}
2018/03/30 11:10:18.791 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":2,"exec_time":0,"ID":125,"step":2,"error_msg":""}
2018/03/30 11:10:18.792 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:18.792 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:10:18.792 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:18.792 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:18.792 [D] 持久化状态,ID: 125
2018/03/30 11:10:18.796 [D] 更新数据库信息,ID: 125
2018/03/30 11:10:18.796 [D] 执行重回队列的操作 cancel step
2018/03/30 11:10:18.796 [E] 插入队列 ts_queue_125_2 {125 1522379418}
2018/03/30 11:10:18.802 [D] already send msg, key: ts_queue_125_2
2018/03/30 11:10:27.888 [I] message at offset 351: ts_queue_125_2 = {"ID":125,"exec_time":1522379418}

2018/03/30 11:10:27.891 [E] 打印队列: {"ID":125,"exec_time":1522379418}
2018/03/30 11:10:27.891 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 2 0 125 2 }
2018/03/30 11:10:27.891 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":3,"exec_time":0,"ID":125,"step":2,"error_msg":""}
2018/03/30 11:10:27.891 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":3,"exec_time":0,"ID":125,"step":2,"error_msg":""}
2018/03/30 11:10:27.892 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:27.892 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:10:27.892 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:27.892 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:10:27.892 [D] 持久化状态,ID: 125
2018/03/30 11:10:27.896 [D] 更新数据库信息,ID: 125
2018/03/30 11:10:27.896 [D] 执行重回队列的操作 cancel step
2018/03/30 11:10:27.896 [E] 插入队列 ts_queue_125_3 {125 1522379427}
2018/03/30 11:10:27.901 [D] already send msg, key: ts_queue_125_3
2018/03/30 11:10:36.990 [I] message at offset 352: ts_queue_125_3 = {"ID":125,"exec_time":1522379427}

2018/03/30 11:10:36.993 [E] 打印队列: {"ID":125,"exec_time":1522379427}
2018/03/30 11:10:36.993 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 3 0 125 2 }
2018/03/30 11:15:28.143 [D] mq reader is starting
2018/03/30 11:15:32.906 [E] 当前发送消息为:  {"ID":126,"exec_time":1522379732}
2018/03/30 11:15:32.914 [D] already send msg, key: ts_queue_126
2018/03/30 11:15:37.156 [I] message at offset 353: ts_queue_126 = {"ID":126,"exec_time":1522379732}

2018/03/30 11:15:37.158 [E] 打印队列: {"ID":126,"exec_time":1522379732}
2018/03/30 11:15:37.158 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 126 0 }
2018/03/30 11:15:37.158 [I] 执行 try,ID: 126
2018/03/30 11:15:37.161 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:37.161 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:37.161 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 200 {"message": "try"}
2018/03/30 11:15:37.161 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/30 11:15:37.161 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:37.161 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/30 11:15:37.162 [I] try 操作完成,ID: 126  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0}]
2018/03/30 11:15:37.162 [D] try 操作成功, ID: 126 1
2018/03/30 11:15:37.162 [D] 持久化状态,ID: 126
2018/03/30 11:15:37.165 [D] 更新数据库信息,ID: 126
2018/03/30 11:15:37.165 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/30 11:15:37.166 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:37.166 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:15:37.166 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:37.166 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/30 11:15:37.167 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:37.167 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:15:37.167 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 126 1 }
2018/03/30 11:15:37.167 [I] 执行中断操作操作,ID: 126
2018/03/30 11:15:37.167 [D] 持久化状态,ID: 126
2018/03/30 11:15:37.171 [D] 更新数据库信息,ID: 126
2018/03/30 11:15:37.171 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":126,"step":2,"error_msg":""}
2018/03/30 11:15:37.171 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:37.171 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:37.171 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:15:37.171 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:37.171 [D] 持久化状态,ID: 126
2018/03/30 11:15:37.173 [D] 更新数据库信息,ID: 126
2018/03/30 11:15:37.173 [D] 执行重回队列的操作 cancel step
2018/03/30 11:15:37.173 [E] 插入队列 ts_queue_126_1 {126 1522379737}
2018/03/30 11:15:37.181 [D] already send msg, key: ts_queue_126_1
2018/03/30 11:15:46.257 [I] message at offset 354: ts_queue_126_1 = {"ID":126,"exec_time":1522379737}

2018/03/30 11:15:46.261 [E] 打印队列: {"ID":126,"exec_time":1522379737}
2018/03/30 11:15:46.261 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 1 0 126 2 }
2018/03/30 11:15:46.261 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":2,"exec_time":0,"ID":126,"step":2,"error_msg":""}
2018/03/30 11:15:46.261 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":2,"exec_time":0,"ID":126,"step":2,"error_msg":""}
2018/03/30 11:15:46.262 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:46.262 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:46.262 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:46.262 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:15:46.262 [D] 持久化状态,ID: 126
2018/03/30 11:15:46.266 [D] 更新数据库信息,ID: 126
2018/03/30 11:15:46.266 [D] 执行重回队列的操作 cancel step
2018/03/30 11:15:46.266 [E] 插入队列 ts_queue_126_2 {126 1522379746}
2018/03/30 11:15:46.272 [D] already send msg, key: ts_queue_126_2
2018/03/30 11:15:55.254 [I] message at offset 355: ts_queue_126_2 = {"ID":126,"exec_time":1522379746}

2018/03/30 11:15:55.257 [E] 打印队列: {"ID":126,"exec_time":1522379746}
2018/03/30 11:15:55.257 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 2 0 126 2 }
2018/03/30 11:15:55.257 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":3,"exec_time":0,"ID":126,"step":2,"error_msg":""}
2018/03/30 11:15:55.257 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":3,"exec_time":0,"ID":126,"step":2,"error_msg":""}
2018/03/30 11:15:55.258 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:55.258 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:15:55.259 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:55.259 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:15:55.259 [D] 持久化状态,ID: 126
2018/03/30 11:15:55.262 [D] 更新数据库信息,ID: 126
2018/03/30 11:15:55.262 [D] 执行重回队列的操作 cancel step
2018/03/30 11:15:55.262 [E] 插入队列 ts_queue_126_3 {126 1522379755}
2018/03/30 11:15:55.268 [D] already send msg, key: ts_queue_126_3
2018/03/30 11:16:04.352 [I] message at offset 356: ts_queue_126_3 = {"ID":126,"exec_time":1522379755}

2018/03/30 11:16:04.354 [E] 打印队列: {"ID":126,"exec_time":1522379755}
2018/03/30 11:16:04.354 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 3 0 126 2 }
2018/03/30 11:16:04.354 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":4,"exec_time":0,"ID":126,"step":2,"error_msg":""}
2018/03/30 11:16:04.354 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":4,"exec_time":0,"ID":126,"step":2,"error_msg":""}
2018/03/30 11:16:04.355 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:16:04.355 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:16:04.355 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:16:04.355 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:16:04.355 [D] 持久化状态,ID: 126
2018/03/30 11:16:04.358 [D] 更新数据库信息,ID: 126
2018/03/30 11:16:04.358 [D] 执行重回队列的操作 cancel step
2018/03/30 11:16:04.358 [E] 插入队列 ts_queue_126_4 {126 1522379764}
2018/03/30 11:16:04.368 [D] already send msg, key: ts_queue_126_4
2018/03/30 11:16:13.448 [I] message at offset 357: ts_queue_126_4 = {"ID":126,"exec_time":1522379764}

2018/03/30 11:16:13.451 [E] 打印队列: {"ID":126,"exec_time":1522379764}
2018/03/30 11:16:13.451 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 4 0 126 2 }
2018/03/30 11:16:13.451 [E] 已超过最大执行次数, {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":4,"exec_time":0,"ID":126,"step":2,"error_msg":""}
2018/03/30 11:23:50.305 [E] 当前发送消息为:  {"ID":127,"exec_time":1522380230}
2018/03/30 11:23:50.312 [D] already send msg, key: ts_queue_127
2018/03/30 11:23:57.516 [I] message at offset 358: ts_queue_127 = {"ID":127,"exec_time":1522380230}

2018/03/30 11:23:57.518 [E] 打印队列: {"ID":127,"exec_time":1522380230}
2018/03/30 11:23:57.518 [E] 收到消息: {async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   }] 0 0 127 0 }
2018/03/30 11:23:57.518 [I] 执行 try,ID: 127
2018/03/30 11:23:57.521 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:23:57.522 [I] http://localhost:8899/api/test_confirm_fault :  delay: 3 ms 200 {"message": "try"}
2018/03/30 11:23:57.522 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:23:57.522 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/30 11:23:57.522 [I] try 操作完成,ID: 127  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":0,"error_code":0}]
2018/03/30 11:23:57.522 [D] try 操作成功, ID: 127 1
2018/03/30 11:23:57.522 [D] 持久化状态,ID: 127
2018/03/30 11:23:57.527 [D] 更新数据库信息,ID: 127
2018/03/30 11:23:57.527 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/30 11:23:57.527 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:23:57.527 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:23:57.528 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:23:57.528 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/30 11:23:57.528 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 127 1 }
2018/03/30 11:23:57.528 [I] 执行中断操作操作,ID: 127
2018/03/30 11:23:57.528 [D] 持久化状态,ID: 127
2018/03/30 11:23:57.531 [D] 更新数据库信息,ID: 127
2018/03/30 11:23:57.531 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":127,"step":2,"error_msg":""}
2018/03/30 11:23:57.532 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:23:57.532 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:23:57.532 [D] 持久化状态,ID: 127
2018/03/30 11:23:57.536 [D] 更新数据库信息,ID: 127
2018/03/30 11:23:57.536 [E] 准备开始取消
2018/03/30 11:23:57.538 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":127,"step":2,"error_msg":""} 1522380237 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}] 127
2018/03/30 11:23:57.538 [D] 此处应该向某处发送 [事务取消] 通知
2018/03/30 11:23:57.538 [I] 终止操作完毕!ID: 127
2018/03/30 11:38:47.177 [D] mq reader is starting
2018/03/30 11:38:50.642 [E] 当前发送消息为:  {"ID":128,"exec_time":1522381130}
2018/03/30 11:38:50.649 [D] already send msg, key: ts_queue_128
2018/03/30 11:38:56.185 [I] message at offset 359: ts_queue_128 = {"ID":128,"exec_time":1522381130}

2018/03/30 11:38:56.186 [E] 打印队列: {"ID":128,"exec_time":1522381130}
2018/03/30 11:38:56.186 [E] 收到消息: {async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   }] 0 0 128 0 }
2018/03/30 11:38:56.186 [I] 执行 try,ID: 128
2018/03/30 11:38:56.191 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:38:56.191 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:38:56.191 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/03/30 11:38:56.191 [I] http://localhost:8899/api/test_confirm_fault :  delay: 4 ms 200 {"message": "try"}
2018/03/30 11:38:56.191 [I] try 操作完成,ID: 128  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":1,"error_code":0}]
2018/03/30 11:38:56.191 [D] try 操作成功, ID: 128 1
2018/03/30 11:38:56.191 [D] 持久化状态,ID: 128
2018/03/30 11:38:56.194 [D] 更新数据库信息,ID: 128
2018/03/30 11:38:56.194 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/30 11:38:56.194 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:38:56.194 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/30 11:38:56.194 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:38:56.195 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:38:56.195 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done } {http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  false }] 1 0 128 1 }
2018/03/30 11:38:56.195 [I] 执行中断操作操作,ID: 128
2018/03/30 11:38:56.195 [D] 持久化状态,ID: 128
2018/03/30 11:38:56.196 [D] 更新数据库信息,ID: 128
2018/03/30 11:38:56.197 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":128,"step":2,"error_msg":""}
2018/03/30 11:38:56.197 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:38:56.197 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:38:56.197 [D] 持久化状态,ID: 128
2018/03/30 11:38:56.198 [D] 更新数据库信息,ID: 128
2018/03/30 11:38:56.198 [E] 准备开始取消
2018/03/30 11:38:56.201 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"},{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":128,"step":2,"error_msg":""} 1522381136 [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/cancel","Index":0,"error_code":0}] 128
2018/03/30 11:38:56.201 [D] 此处应该向某处发送 [事务取消] 通知
2018/03/30 11:38:56.201 [I] 终止操作完毕!ID: 128
2018/03/30 11:39:05.044 [E] 当前发送消息为:  {"ID":129,"exec_time":1522381145}
2018/03/30 11:39:05.053 [D] already send msg, key: ts_queue_129
2018/03/30 11:39:05.284 [I] message at offset 360: ts_queue_129 = {"ID":129,"exec_time":1522381145}

2018/03/30 11:39:05.286 [E] 打印队列: {"ID":129,"exec_time":1522381145}
2018/03/30 11:39:05.287 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 129 0 }
2018/03/30 11:39:05.287 [I] 执行 try,ID: 129
2018/03/30 11:39:05.287 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:05.287 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:39:05.287 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:05.287 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:39:05.288 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:05.288 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:39:05.288 [I] try 操作完成,ID: 129  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0}]
2018/03/30 11:39:05.288 [D] try 操作成功, ID: 129 1
2018/03/30 11:39:05.288 [D] 持久化状态,ID: 129
2018/03/30 11:39:05.294 [D] 更新数据库信息,ID: 129
2018/03/30 11:39:05.294 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/30 11:39:05.295 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:05.295 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:39:05.295 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:05.295 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/30 11:39:05.295 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:05.295 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:39:05.295 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 129 1 }
2018/03/30 11:39:05.295 [I] 执行中断操作操作,ID: 129
2018/03/30 11:39:05.295 [D] 持久化状态,ID: 129
2018/03/30 11:39:05.297 [D] 更新数据库信息,ID: 129
2018/03/30 11:39:05.297 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":129,"step":2,"error_msg":""}
2018/03/30 11:39:05.298 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:05.298 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:05.298 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:05.298 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:39:05.298 [D] 持久化状态,ID: 129
2018/03/30 11:39:05.300 [D] 更新数据库信息,ID: 129
2018/03/30 11:39:05.300 [D] 执行重回队列的操作 cancel step
2018/03/30 11:39:05.300 [E] 插入队列 ts_queue_129_1 {129 1522381145}
2018/03/30 11:39:05.307 [D] already send msg, key: ts_queue_129_1
2018/03/30 11:39:14.384 [I] message at offset 361: ts_queue_129_1 = {"ID":129,"exec_time":1522381145}

2018/03/30 11:39:14.387 [E] 打印队列: {"ID":129,"exec_time":1522381145}
2018/03/30 11:39:14.387 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 1 0 129 2 }
2018/03/30 11:39:14.387 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":2,"exec_time":0,"ID":129,"step":2,"error_msg":""}
2018/03/30 11:39:14.387 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":2,"exec_time":0,"ID":129,"step":2,"error_msg":""}
2018/03/30 11:39:14.388 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:14.388 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:14.388 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:14.388 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:39:14.388 [D] 持久化状态,ID: 129
2018/03/30 11:39:14.393 [D] 更新数据库信息,ID: 129
2018/03/30 11:39:14.393 [D] 执行重回队列的操作 cancel step
2018/03/30 11:39:14.393 [E] 插入队列 ts_queue_129_2 {129 1522381154}
2018/03/30 11:39:14.403 [D] already send msg, key: ts_queue_129_2
2018/03/30 11:39:23.485 [I] message at offset 362: ts_queue_129_2 = {"ID":129,"exec_time":1522381154}

2018/03/30 11:39:23.488 [E] 打印队列: {"ID":129,"exec_time":1522381154}
2018/03/30 11:39:23.488 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 2 0 129 2 }
2018/03/30 11:39:23.488 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":3,"exec_time":0,"ID":129,"step":2,"error_msg":""}
2018/03/30 11:39:23.488 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":3,"exec_time":0,"ID":129,"step":2,"error_msg":""}
2018/03/30 11:39:23.490 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:23.490 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:39:23.490 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:23.490 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:39:23.490 [D] 持久化状态,ID: 129
2018/03/30 11:39:23.494 [D] 更新数据库信息,ID: 129
2018/03/30 11:39:23.494 [D] 执行重回队列的操作 cancel step
2018/03/30 11:39:23.494 [E] 插入队列 ts_queue_129_3 {129 1522381163}
2018/03/30 11:39:23.504 [D] already send msg, key: ts_queue_129_3
2018/03/30 11:39:32.586 [I] message at offset 363: ts_queue_129_3 = {"ID":129,"exec_time":1522381163}

2018/03/30 11:39:32.588 [E] 打印队列: {"ID":129,"exec_time":1522381163}
2018/03/30 11:39:32.588 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 3 0 129 2 }
2018/03/30 11:39:32.588 [E] 已超过最大执行次数, {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":4,"exec_time":0,"ID":129,"step":2,"error_msg":""}
2018/03/30 11:55:38.793 [D] mq reader is starting
2018/03/30 11:56:44.707 [D] mq reader is starting
2018/03/30 11:59:24.844 [E] 当前发送消息为:  {"ID":130,"exec_time":1522382364}
2018/03/30 11:59:24.854 [D] already send msg, key: ts_queue_130
2018/03/30 11:59:28.420 [I] message at offset 364: ts_queue_130 = {"ID":130,"exec_time":1522382364}

2018/03/30 11:59:28.423 [E] 打印队列: {"ID":130,"exec_time":1522382364}
2018/03/30 11:59:28.424 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0   }] 0 0 130 0 }
2018/03/30 11:59:28.424 [I] 执行 try,ID: 130
2018/03/30 11:59:28.426 [D] http://localhost:8899/api/test_confirm_fault/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:28.426 [I] http://localhost:8899/api/test_confirm_fault :  delay: 2 ms 200 {"message": "try"}
2018/03/30 11:59:28.427 [D] http://localhost:8899/api/test_cancel_timeout/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:28.427 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 2 ms 200 {"message": "try"}
2018/03/30 11:59:28.427 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:28.427 [I] http://localhost:8899/api/test :  delay: 2 ms 200 {"message": "try"}
2018/03/30 11:59:28.427 [I] try 操作完成,ID: 130  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_confirm_fault/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test_cancel_timeout/try","Index":1,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":2,"error_code":0}]
2018/03/30 11:59:28.427 [D] try 操作成功, ID: 130 1
2018/03/30 11:59:28.427 [D] 持久化状态,ID: 130
2018/03/30 11:59:28.430 [D] 更新数据库信息,ID: 130
2018/03/30 11:59:28.430 [D] 执行 commit 逻辑  执行步骤: 1
2018/03/30 11:59:28.431 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:28.431 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:59:28.432 [D] http://localhost:8899/api/test_confirm_fault/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":0,"error_code":401,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:28.432 [I] http://localhost:8899/api/test_confirm_fault :  delay: 0 ms 401 {"message": "try"}
2018/03/30 11:59:28.434 [D] http://localhost:8899/api/test_cancel_timeout/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:28.435 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 3 ms 200 {"message": "try"}
2018/03/30 11:59:28.435 [E] 当前事务状态: &{async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done }] 1 0 130 1 }
2018/03/30 11:59:28.435 [I] 执行中断操作操作,ID: 130
2018/03/30 11:59:28.435 [D] 持久化状态,ID: 130
2018/03/30 11:59:28.440 [D] 更新数据库信息,ID: 130
2018/03/30 11:59:28.440 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":130,"step":2,"error_msg":""}
2018/03/30 11:59:28.440 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:28.440 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:28.440 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 0 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:28.440 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/03/30 11:59:28.440 [D] 持久化状态,ID: 130
2018/03/30 11:59:28.442 [D] 更新数据库信息,ID: 130
2018/03/30 11:59:28.442 [D] 执行重回队列的操作 cancel step
2018/03/30 11:59:28.442 [E] 插入队列 ts_queue_130_1 {130 1522382368}
2018/03/30 11:59:28.449 [D] already send msg, key: ts_queue_130_1
2018/03/30 11:59:37.521 [I] message at offset 365: ts_queue_130_1 = {"ID":130,"exec_time":1522382368}

2018/03/30 11:59:37.524 [E] 打印队列: {"ID":130,"exec_time":1522382368}
2018/03/30 11:59:37.524 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 1 0 130 2 }
2018/03/30 11:59:37.524 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":2,"exec_time":0,"ID":130,"step":2,"error_msg":""}
2018/03/30 11:59:37.524 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":2,"exec_time":0,"ID":130,"step":2,"error_msg":""}
2018/03/30 11:59:37.526 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:37.526 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:59:37.526 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:37.526 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:37.526 [D] 持久化状态,ID: 130
2018/03/30 11:59:37.529 [D] 更新数据库信息,ID: 130
2018/03/30 11:59:37.529 [D] 执行重回队列的操作 cancel step
2018/03/30 11:59:37.529 [E] 插入队列 ts_queue_130_2 {130 1522382377}
2018/03/30 11:59:37.537 [D] already send msg, key: ts_queue_130_2
2018/03/30 11:59:46.622 [I] message at offset 366: ts_queue_130_2 = {"ID":130,"exec_time":1522382377}

2018/03/30 11:59:46.625 [E] 打印队列: {"ID":130,"exec_time":1522382377}
2018/03/30 11:59:46.625 [E] 收到消息: {async [{http://localhost:8899/api/test_confirm_fault {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  false } {http://localhost:8899/api/test_cancel_timeout {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done false} {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message":"cancel"} 0  done done}] 2 0 130 2 }
2018/03/30 11:59:46.625 [D] 需要执行 cancel 任务 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":3,"exec_time":0,"ID":130,"step":2,"error_msg":""}
2018/03/30 11:59:46.625 [D] 打印当前中断状态时的事务状态 {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":3,"exec_time":0,"ID":130,"step":2,"error_msg":""}
2018/03/30 11:59:46.626 [D] http://localhost:8899/api/test/cancel post 请求返回内容: {"message":"cancel","type":"cancel api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:46.626 [I] http://localhost:8899/api/test :  delay: 1 ms 200 {"message": "try"}
2018/03/30 11:59:46.626 [D] http://localhost:8899/api/test_cancel_timeout/cancel post 请求返回内容: {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:46.626 [I] http://localhost:8899/api/test_cancel_timeout :  delay: 1 ms 408 {"message":"cancel","type":"try api","code":0,"error_code":408,"error_message":"something was wrong","data":"{\"message\": \"try\"}"}
2018/03/30 11:59:46.626 [D] 持久化状态,ID: 130
2018/03/30 11:59:46.631 [D] 更新数据库信息,ID: 130
2018/03/30 11:59:46.631 [D] 执行重回队列的操作 cancel step
2018/03/30 11:59:46.631 [E] 超过最大执行次数, ID: 130
2018/03/30 11:59:46.631 [E] 准备开始取消
2018/03/30 11:59:46.634 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/test_confirm_fault","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"false","cancel_status":""},{"api":"http://localhost:8899/api/test_cancel_timeout","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"false"},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\":\"cancel\"}","step":0,"try_status":"","commit_status":"done","cancel_status":"done"}],"exec_num":3,"exec_time":0,"ID":130,"step":2,"error_msg":""} 1522382386 [{"code":0,"data":"","error_message":"out of max exec times","API":"","Index":0,"error_code":409}] 130
2018/03/30 11:59:46.634 [D] 此处应该向某处发送 [事务取消] 通知
2018/03/30 13:51:02.011 [E] 当前发送消息为:  {"ID":131,"exec_time":1522389062}
2018/03/30 13:52:11.723 [E] 当前发送消息为:  {"ID":132,"exec_time":1522389131}
2018/03/30 13:52:24.073 [D] mq reader is starting
2018/03/30 13:52:26.260 [E] 当前发送消息为:  {"ID":133,"exec_time":1522389146}
2018/03/30 13:54:05.971 [D] mq reader is starting
2018/03/30 13:54:08.838 [E] 当前发送消息为:  {"ID":134,"exec_time":1522389248}
2018/03/30 13:54:08.854 [D] already send msg, key: ts_queue_134
2018/03/30 13:57:52.245 [D] mq reader is starting
2018/03/30 13:57:55.103 [E] 当前发送消息为:  {"ID":135,"exec_time":1522389475}
2018/03/30 13:57:55.106 [D] already send msg, key: ts_queue_135
2018/03/30 13:58:22.526 [D] mq reader is starting
2018/03/30 13:58:29.553 [E] 当前发送消息为:  {"ID":136,"exec_time":1522389509}
2018/03/30 13:58:29.553 [D] already send msg, key: ts_queue_136
2018/03/30 13:59:42.832 [D] mq reader is starting
2018/03/30 13:59:45.946 [E] error input: <nil>
2018/03/30 13:59:45.948 [E] error input: <nil>
2018/03/30 13:59:45.949 [E] error input: <nil>
2018/03/30 13:59:45.949 [E] error input: <nil>
2018/03/30 13:59:45.950 [E] 当前发送消息为:  {"ID":137,"exec_time":1522389585}
2018/03/30 13:59:45.951 [E] error input: dial tcp [::1]:9092: getsockopt: connection refused
2018/03/30 14:01:28.959 [D] mq reader is starting
2018/03/30 14:05:30.053 [E] error input: <nil>
2018/03/30 14:05:30.055 [E] error input: <nil>
2018/03/30 14:05:30.057 [E] error input: <nil>
2018/03/30 14:05:30.057 [E] error input: <nil>
2018/03/30 14:05:30.057 [E] 当前发送消息为:  {"ID":138,"exec_time":1522389930}
2018/03/30 14:05:30.094 [E] error input: dial tcp :0: connect: can't assign requested address
2018/03/30 14:05:49.270 [D] mq reader is starting
2018/03/30 14:05:52.086 [E] error input: <nil>
2018/03/30 14:05:52.087 [E] error input: <nil>
2018/03/30 14:05:52.088 [E] error input: <nil>
2018/03/30 14:05:52.088 [E] error input: <nil>
2018/03/30 14:05:52.088 [E] 当前发送消息为:  {"ID":139,"exec_time":1522389952}
2018/03/30 14:05:52.096 [E] error input: dial tcp :0: connect: can't assign requested address
2018/03/30 14:07:01.764 [E] error input: <nil>
2018/03/30 14:07:01.765 [E] error input: <nil>
2018/03/30 14:07:01.767 [E] error input: <nil>
2018/03/30 14:07:01.767 [E] error input: <nil>
2018/03/30 14:07:01.767 [E] 当前发送消息为:  {"ID":140,"exec_time":1522390021}
2018/03/30 14:07:01.779 [E] error input: dial tcp :0: connect: can't assign requested address
2018/03/30 14:13:39.561 [E] error input: <nil>
2018/03/30 14:13:39.566 [E] error input: <nil>
2018/03/30 14:13:39.567 [E] error input: <nil>
2018/03/30 14:13:39.567 [E] error input: <nil>
2018/03/30 14:13:39.567 [E] 当前发送消息为:  {"ID":141,"exec_time":1522390419}
2018/03/30 14:13:39.610 [E] error input: dial tcp :0: connect: can't assign requested address
2018/03/30 14:18:02.139 [D] mq reader is starting
2018/03/30 14:18:14.750 [E] error input: <nil>
2018/03/30 14:18:14.751 [E] error input: <nil>
2018/03/30 14:18:14.754 [E] error input: <nil>
2018/03/30 14:18:14.754 [E] error input: <nil>
2018/03/30 14:18:14.754 [E] 当前发送消息为:  {"ID":142,"exec_time":1522390694}
2018/03/30 14:18:14.762 [E] error input: dial tcp :0: connect: can't assign requested address
2018/03/30 14:19:11.190 [D] mq reader is starting
2018/03/30 14:33:02.239 [D] mq reader is starting
2018/03/30 14:33:28.080 [E] error input: <nil>
2018/03/30 14:33:28.088 [E] error input: <nil>
2018/03/30 14:33:28.090 [E] error input: <nil>
2018/03/30 14:33:28.091 [E] error input: <nil>
2018/03/30 14:33:28.091 [E] 当前发送消息为:  {"ID":143,"exec_time":1522391608}
2018/03/30 14:33:28.097 [E] error input: dial tcp :0: connect: can't assign requested address
2018/03/30 14:38:09.065 [D] mq reader is starting
2018/03/30 14:38:17.199 [E] error input: <nil>
2018/03/30 14:38:17.200 [E] error input: <nil>
2018/03/30 14:38:17.202 [E] error input: <nil>
2018/03/30 14:38:17.202 [E] error input: <nil>
2018/03/30 14:38:17.202 [E] 当前发送消息为:  {"ID":144,"exec_time":1522391897}
2018/03/30 14:38:17.206 [E] error input: dial tcp :0: connect: can't assign requested address
2018/03/30 14:42:36.946 [D] mq reader is starting
2018/03/30 14:56:58.288 [D] mq reader is starting
2018/03/30 14:57:04.385 [E] error input: <nil>
2018/03/30 14:57:04.386 [E] error input: <nil>
2018/03/30 14:57:04.387 [E] error input: <nil>
2018/03/30 14:57:04.387 [E] error input: <nil>
2018/03/30 14:57:04.387 [E] 当前发送消息为:  {"ID":145,"exec_time":1522393024}
2018/03/30 14:57:04.391 [E] error input: dial tcp :0: connect: can't assign requested address
2018/05/08 15:49:50.862 [D] mq reader is starting
2018/05/08 15:49:59.885 [I] message at offset 6:  = one!

2018/05/08 15:49:59.885 [I] message at offset 7:  = two!

2018/05/08 15:49:59.885 [I] message at offset 8:  = three!

2018/05/08 15:49:59.885 [I] message at offset 9:  = one!

2018/05/08 15:49:59.885 [I] message at offset 10:  = two!

2018/05/08 15:49:59.885 [I] message at offset 11:  = three!

2018/05/08 15:49:59.897 [E] 打印队列: {"ID":0,"exec_time":0}
2018/05/08 15:49:59.897 [E] error input: sql: no rows in result set
2018/05/08 15:49:59.897 [E] sql: no rows in result set
2018/05/08 15:49:59.897 [E] 打印队列: {"ID":0,"exec_time":0}
2018/05/08 15:49:59.897 [E] error input: sql: no rows in result set
2018/05/08 15:49:59.897 [E] sql: no rows in result set
2018/05/08 15:49:59.897 [E] 打印队列: {"ID":0,"exec_time":0}
2018/05/08 15:49:59.897 [E] error input: sql: no rows in result set
2018/05/08 15:49:59.897 [E] sql: no rows in result set
2018/05/08 15:49:59.897 [E] 打印队列: {"ID":0,"exec_time":0}
2018/05/08 15:49:59.897 [E] error input: sql: no rows in result set
2018/05/08 15:49:59.897 [E] sql: no rows in result set
2018/05/08 15:49:59.897 [E] 打印队列: {"ID":0,"exec_time":0}
2018/05/08 15:49:59.897 [E] error input: sql: no rows in result set
2018/05/08 15:49:59.897 [E] sql: no rows in result set
2018/05/08 15:49:59.897 [E] 打印队列: {"ID":0,"exec_time":0}
2018/05/08 15:49:59.897 [E] error input: sql: no rows in result set
2018/05/08 15:49:59.898 [E] sql: no rows in result set
2018/05/08 15:50:05.594 [E] error input: <nil>
2018/05/08 15:50:05.596 [E] error input: <nil>
2018/05/08 15:50:05.602 [E] error input: <nil>
2018/05/08 15:50:05.602 [E] error input: <nil>
2018/05/08 15:50:05.602 [E] 当前发送消息为:  {"ID":146,"exec_time":1525765805}
2018/05/08 15:50:05.607 [E] error input: <nil>
2018/05/08 15:50:05.613 [D] already send msg, key: ts_queue_146
2018/05/08 15:50:08.882 [I] message at offset 12: ts_queue_146 = {"ID":146,"exec_time":1525765805}

2018/05/08 15:50:08.886 [E] 打印队列: {"ID":146,"exec_time":1525765805}
2018/05/08 15:50:08.886 [E] error input: <nil>
2018/05/08 15:50:08.886 [E] 收到消息: {async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {'message': 'cancel'} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   }] 0 0 146 0 }
2018/05/08 15:50:08.886 [I] 执行 try,ID: 146
2018/05/08 15:50:08.890 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/05/08 15:50:08.890 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/05/08 15:50:08.891 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/05/08 15:50:08.891 [I] http://localhost:8899/api/test :  delay: 4 ms 200 {"message": "try"}
2018/05/08 15:50:08.891 [I] try 操作完成,ID: 146  返回结果: [{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":0,"error_code":0},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":1,"error_code":0}]
2018/05/08 15:50:08.891 [D] try 操作成功, ID: 146 1
2018/05/08 15:50:08.891 [D] 持久化状态,ID: 146
2018/05/08 15:50:08.894 [E] error input: <nil>
2018/05/08 15:50:08.901 [E] error input: <nil>
2018/05/08 15:50:08.901 [D] 更新数据库信息,ID: 146
2018/05/08 15:50:08.901 [D] 执行 commit 逻辑  执行步骤: 1
2018/05/08 15:50:08.901 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/05/08 15:50:08.901 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/05/08 15:50:08.901 [D] http://localhost:8899/api/test/confirm post 请求返回内容: {"message":"confirm","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/05/08 15:50:08.901 [I] http://localhost:8899/api/test :  delay: 0 ms 200 {"message": "try"}
2018/05/08 15:50:08.901 [E] 当前事务状态: &{async [{http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {'message': 'cancel'} 0  done } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0  done }] 1 0 146 1 }
2018/05/08 15:50:08.901 [I] 准备完成动作
2018/05/08 15:50:08.903 [E] error input: <nil>
2018/05/08 15:50:08.904 [E] error input: <nil>
2018/05/08 15:50:08.905 [D] 执行成功的操作完成
2018/05/08 15:50:08.905 [D] 当前准备执行的任务索引: [0 1]
2018/05/08 16:00:30.237 [E] error input: <nil>
2018/05/08 16:00:30.242 [E] error input: <nil>
2018/05/08 16:00:30.243 [E] error input: <nil>
2018/05/08 16:00:30.243 [E] error input: <nil>
2018/05/08 16:00:30.243 [E] 当前发送消息为:  {"ID":147,"exec_time":1525766430}
2018/05/08 16:00:30.256 [E] error input: <nil>
2018/05/08 16:00:30.267 [D] already send msg, key: ts_queue_147
2018/05/08 16:00:36.299 [I] message at offset 13: ts_queue_147 = {"ID":147,"exec_time":1525766430}

2018/05/08 16:00:36.302 [E] 打印队列: {"ID":147,"exec_time":1525766430}
2018/05/08 16:00:36.302 [E] error input: <nil>
2018/05/08 16:00:36.302 [E] 收到消息: {async [{http://localhost:8899/api/tsest {"message": "try"} {"message":"confirm"} {'message': 'cancel'} 0   } {http://localhost:8899/api/test {"message": "try"} {"message":"confirm"} {"message": "cancel"} 0   }] 0 0 147 0 }
2018/05/08 16:00:36.302 [I] 执行 try,ID: 147
2018/05/08 16:00:36.306 [D] http://localhost:8899/api/tsest/try post 请求返回内容: 404 page not found
2018/05/08 16:00:36.306 [I] http://localhost:8899/api/tsest :  delay: 3 ms 404 404 page not found
2018/05/08 16:00:36.306 [D] http://localhost:8899/api/test/try post 请求返回内容: {"message":"try","type":"try api","code":200,"error_code":0,"error_message":"","data":"{\"message\": \"try\"}"}
2018/05/08 16:00:36.306 [I] http://localhost:8899/api/test :  delay: 3 ms 200 {"message": "try"}
2018/05/08 16:00:36.306 [I] try 操作完成,ID: 147  返回结果: [{"code":404,"data":"404 page not found","error_message":"request error","API":"http://localhost:8899/api/tsest/try","Index":0,"error_code":404},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":1,"error_code":0}]
2018/05/08 16:00:36.306 [E] 准备开始取消
2018/05/08 16:00:36.307 [E] error input: <nil>
2018/05/08 16:00:36.308 [E] error input: <nil>
2018/05/08 16:00:36.308 [D] 取消事务时插入数据库内容: {"type":"async","Task":[{"api":"http://localhost:8899/api/tsest","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{'message': 'cancel'}","step":0,"try_status":"","commit_status":"","cancel_status":""},{"api":"http://localhost:8899/api/test","try":"{\"message\": \"try\"}","confirm":"{\"message\":\"confirm\"}","cancel":"{\"message\": \"cancel\"}","step":0,"try_status":"","commit_status":"","cancel_status":""}],"exec_num":1,"exec_time":0,"ID":147,"step":0,"error_msg":""} 1525766436 [{"code":404,"data":"404 page not found","error_message":"request error","API":"http://localhost:8899/api/tsest/try","Index":0,"error_code":404},{"code":200,"data":"{\"message\": \"try\"}","error_message":"","API":"http://localhost:8899/api/test/try","Index":1,"error_code":0}] 147
2018/05/08 16:00:36.308 [D] 此处应该向某处发送 [事务取消] 通知
2018/05/08 16:09:30.669 [D] mq reader is starting
2018/05/08 16:09:48.000 [D] mq reader is starting
2018/05/08 16:11:05.249 [D] mq reader is starting
2018/05/08 16:11:19.187 [D] mq reader is starting
2018/05/08 16:11:32.965 [D] mq reader is starting
2018/05/08 16:12:00.670 [D] mq reader is starting
2018/05/08 16:12:15.327 [D] mq reader is starting
2018/05/08 16:12:22.992 [D] mq reader is starting
